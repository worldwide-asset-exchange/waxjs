var waxjs;(()=>{var t={220:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},982:function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,a){function s(t){try{u(n.next(t))}catch(t){a(t)}}function o(t){try{u(n.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,o)}u((n=n.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var r,n,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},s=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,a=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},o=this&&this.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Api=void 0;var h=r(591),c=r(888),l=r(892),d=r(450),f=function(){function t(t){this.contracts=new Map,this.cachedAbis=new Map,this.rpc=t.rpc,this.authorityProvider=t.authorityProvider||t.rpc,this.abiProvider=t.abiProvider||t.rpc,this.signatureProvider=t.signatureProvider,this.chainId=t.chainId,this.textEncoder=t.textEncoder,this.textDecoder=t.textDecoder,this.abiTypes=c.getTypesFromAbi(c.createInitialTypes(),l),this.transactionTypes=c.getTypesFromAbi(c.createInitialTypes(),d)}return t.prototype.rawAbiToJson=function(t){var e=new c.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder,array:t});if(!c.supportedAbiVersion(e.getString()))throw new Error("Unsupported abi version");return e.restartRead(),this.abiTypes.get("abi_def").deserialize(e)},t.prototype.jsonToRawAbi=function(t){var e=new c.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder});if(this.abiTypes.get("abi_def").serialize(e,t),!c.supportedAbiVersion(e.getString()))throw new Error("Unsupported abi version");return e.asUint8Array()},t.prototype.getCachedAbi=function(t,e){return void 0===e&&(e=!1),i(this,void 0,void 0,(function(){var r,n,i,s;return a(this,(function(a){switch(a.label){case 0:if(!e&&this.cachedAbis.get(t))return[2,this.cachedAbis.get(t)];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.abiProvider.getRawAbi(t)];case 2:return n=a.sent().abi,i=this.rawAbiToJson(n),r={rawAbi:n,abi:i},[3,4];case 3:throw(s=a.sent()).message="fetching abi for "+t+": "+s.message,s;case 4:if(!r)throw new Error("Missing abi for "+t);return this.cachedAbis.set(t,r),[2,r]}}))}))},t.prototype.getAbi=function(t,e){return void 0===e&&(e=!1),i(this,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return[4,this.getCachedAbi(t,e)];case 1:return[2,r.sent().abi]}}))}))},t.prototype.getTransactionAbis=function(t,e){return void 0===e&&(e=!1),i(this,void 0,void 0,(function(){var r,n,u,h,c=this;return a(this,(function(l){return r=(t.context_free_actions||[]).concat(t.actions),n=r.map((function(t){return t.account})),u=new Set(n),h=o([],s(u)).map((function(t){return i(c,void 0,void 0,(function(){var r;return a(this,(function(n){switch(n.label){case 0:return r={accountName:t},[4,this.getCachedAbi(t,e)];case 1:return[2,(r.abi=n.sent().rawAbi,r)]}}))}))})),[2,Promise.all(h)]}))}))},t.prototype.getContract=function(t,e){return void 0===e&&(e=!1),i(this,void 0,void 0,(function(){var r,n,i,s,o,h,l,d,f,p,_;return a(this,(function(a){switch(a.label){case 0:return!e&&this.contracts.get(t)?[2,this.contracts.get(t)]:[4,this.getAbi(t,e)];case 1:r=a.sent(),n=c.getTypesFromAbi(c.createInitialTypes(),r),i=new Map;try{for(s=u(r.actions),o=s.next();!o.done;o=s.next())h=o.value,l=h.name,d=h.type,i.set(l,c.getType(n,d))}catch(t){p={error:t}}finally{try{o&&!o.done&&(_=s.return)&&_.call(s)}finally{if(p)throw p.error}}return f={types:n,actions:i},this.contracts.set(t,f),[2,f]}}))}))},t.prototype.serialize=function(t,e,r){this.transactionTypes.get(e).serialize(t,r)},t.prototype.deserialize=function(t,e){return this.transactionTypes.get(e).deserialize(t)},t.prototype.serializeTransaction=function(t){var e=new c.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder});return this.serialize(e,"transaction",n({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],actions:[],transaction_extensions:[]},t)),e.asUint8Array()},t.prototype.serializeContextFreeData=function(t){var e,r;if(!t||!t.length)return null;var n=new c.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder});n.pushVaruint32(t.length);try{for(var i=u(t),a=i.next();!a.done;a=i.next()){var s=a.value;n.pushBytes(s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n.asUint8Array()},t.prototype.deserializeTransaction=function(t){var e=new c.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder});return e.pushArray(t),this.deserialize(e,"transaction")},t.prototype.serializeActions=function(t){return i(this,void 0,void 0,(function(){var e=this;return a(this,(function(r){switch(r.label){case 0:return[4,Promise.all(t.map((function(t){var r=t.account,n=t.name,s=t.authorization,o=t.data;return i(e,void 0,void 0,(function(){var t;return a(this,(function(e){switch(e.label){case 0:return[4,this.getContract(r)];case 1:return t=e.sent(),[2,c.serializeAction(t,r,n,s,o,this.textEncoder,this.textDecoder)]}}))}))})))];case 1:return[2,r.sent()]}}))}))},t.prototype.deserializeActions=function(t){return i(this,void 0,void 0,(function(){var e=this;return a(this,(function(r){switch(r.label){case 0:return[4,Promise.all(t.map((function(t){var r=t.account,n=t.name,s=t.authorization,o=t.data;return i(e,void 0,void 0,(function(){var t;return a(this,(function(e){switch(e.label){case 0:return[4,this.getContract(r)];case 1:return t=e.sent(),[2,c.deserializeAction(t,r,n,s,o,this.textEncoder,this.textDecoder)]}}))}))})))];case 1:return[2,r.sent()]}}))}))},t.prototype.deserializeTransactionWithActions=function(t){return i(this,void 0,void 0,(function(){var e,r,i;return a(this,(function(a){switch(a.label){case 0:return"string"==typeof t&&(t=c.hexToUint8Array(t)),e=this.deserializeTransaction(t),[4,this.deserializeActions(e.context_free_actions)];case 1:return r=a.sent(),[4,this.deserializeActions(e.actions)];case 2:return i=a.sent(),[2,n(n({},e),{context_free_actions:r,actions:i})]}}))}))},t.prototype.deflateSerializedArray=function(t){return h.deflate(t,{level:9})},t.prototype.inflateSerializedArray=function(t){return h.inflate(t)},t.prototype.transact=function(t,e){var r=void 0===e?{}:e,s=r.broadcast,o=void 0===s||s,u=r.sign,h=void 0===u||u,c=r.compression,l=r.blocksBehind,d=r.useLastIrreversible,f=r.expireSeconds;return i(this,void 0,void 0,(function(){var e,r,i,s,u,p,_,y,g;return a(this,(function(a){switch(a.label){case 0:if("number"==typeof l&&d)throw new Error("Use either blocksBehind or useLastIrreversible");return this.chainId?[3,2]:[4,this.rpc.get_info()];case 1:e=a.sent(),this.chainId=e.chain_id,a.label=2;case 2:return"number"!=typeof l&&!d||!f?[3,4]:[4,this.generateTapos(e,t,l,d,f)];case 3:t=a.sent(),a.label=4;case 4:if(!this.hasRequiredTaposFields(t))throw new Error("Required configuration or TAPOS fields are not present");return[4,this.getTransactionAbis(t)];case 5:return r=a.sent(),i=[n({},t)],g={},[4,this.serializeActions(t.context_free_actions||[])];case 6:return g.context_free_actions=a.sent(),[4,this.serializeActions(t.actions)];case 7:return t=n.apply(void 0,i.concat([(g.actions=a.sent(),g)])),s=this.serializeTransaction(t),u=this.serializeContextFreeData(t.context_free_data),p={serializedTransaction:s,serializedContextFreeData:u,signatures:[]},h?[4,this.signatureProvider.getAvailableKeys()]:[3,11];case 8:return _=a.sent(),[4,this.authorityProvider.getRequiredKeys({transaction:t,availableKeys:_})];case 9:return y=a.sent(),[4,this.signatureProvider.sign({chainId:this.chainId,requiredKeys:y,serializedTransaction:s,serializedContextFreeData:u,abis:r})];case 10:p=a.sent(),a.label=11;case 11:return o?c?[2,this.pushCompressedSignedTransaction(p)]:[2,this.pushSignedTransaction(p)]:[2,p]}}))}))},t.prototype.pushSignedTransaction=function(t){var e=t.signatures,r=t.serializedTransaction,n=t.serializedContextFreeData;return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2,this.rpc.push_transaction({signatures:e,serializedTransaction:r,serializedContextFreeData:n})]}))}))},t.prototype.pushCompressedSignedTransaction=function(t){var e=t.signatures,r=t.serializedTransaction,n=t.serializedContextFreeData;return i(this,void 0,void 0,(function(){var t,i;return a(this,(function(a){return t=this.deflateSerializedArray(r),i=this.deflateSerializedArray(n||new Uint8Array(0)),[2,this.rpc.push_transaction({signatures:e,compression:1,serializedTransaction:t,serializedContextFreeData:i})]}))}))},t.prototype.generateTapos=function(t,e,r,s,o){return i(this,void 0,void 0,(function(){var i,u,h;return a(this,(function(a){switch(a.label){case 0:return t?[3,2]:[4,this.rpc.get_info()];case 1:t=a.sent(),a.label=2;case 2:return(i=s?t.last_irreversible_block_num:t.head_block_num-r)<=t.last_irreversible_block_num?[4,this.rpc.get_block(i)]:[3,4];case 3:return h=a.sent(),[3,6];case 4:return[4,this.tryGetBlockHeaderState(i)];case 5:h=a.sent(),a.label=6;case 6:return u=h,[2,n(n({},c.transactionHeader(u,o)),e)]}}))}))},t.prototype.hasRequiredTaposFields=function(t){var e=t.expiration,r=t.ref_block_num,n=t.ref_block_prefix;return!(!e||"number"!=typeof r||"number"!=typeof n)},t.prototype.tryGetBlockHeaderState=function(t){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,4]),[4,this.rpc.get_block_header_state(t)];case 1:return[2,e.sent()];case 2:return e.sent(),[4,this.rpc.get_block(t)];case 3:return[2,e.sent()];case 4:return[2]}}))}))},t}();e.Api=f},556:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,a){function s(t){try{u(n.next(t))}catch(t){a(t)}}function o(t){try{u(n.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,o)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var r,n,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},a=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpc=void 0;var s=r(722),o=r(485),u=function(t){var e,r,n="";try{for(var i=a(t),s=i.next();!s.done;s=i.next())n+=("00"+s.value.toString(16)).slice(-2)}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n},h=function(){function t(t,e){void 0===e&&(e={}),this.endpoint=t.replace(/\/$/,""),e.fetch?this.fetchBuiltin=e.fetch:this.fetchBuiltin=r.g.fetch}return t.prototype.fetch=function(t,e){return n(this,void 0,void 0,(function(){var r,n,a;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,(0,this.fetchBuiltin)(this.endpoint+t,{body:JSON.stringify(e),method:"POST"})];case 1:return[4,(r=i.sent()).json()];case 2:if((n=i.sent()).processed&&n.processed.except)throw new o.RpcError(n);return[3,4];case 3:throw(a=i.sent()).isFetchError=!0,a;case 4:if(!r.ok)throw new o.RpcError(n);return[2,n]}}))}))},t.prototype.get_abi=function(t){return n(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_abi",{account_name:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.get_account=function(t){return n(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_account",{account_name:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.get_block_header_state=function(t){return n(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_block_header_state",{block_num_or_id:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.get_block=function(t){return n(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_block",{block_num_or_id:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.get_code=function(t){return n(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_code",{account_name:t,code_as_wasm:!0})];case 1:return[2,e.sent()]}}))}))},t.prototype.get_currency_balance=function(t,e,r){return void 0===r&&(r=null),n(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,this.fetch("/v1/chain/get_currency_balance",{code:t,account:e,symbol:r})];case 1:return[2,n.sent()]}}))}))},t.prototype.get_currency_stats=function(t,e){return n(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,this.fetch("/v1/chain/get_currency_stats",{code:t,symbol:e})];case 1:return[2,r.sent()]}}))}))},t.prototype.get_info=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_info",{})];case 1:return[2,t.sent()]}}))}))},t.prototype.get_producer_schedule=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_producer_schedule",{})];case 1:return[2,t.sent()]}}))}))},t.prototype.get_producers=function(t,e,r){return void 0===t&&(t=!0),void 0===e&&(e=""),void 0===r&&(r=50),n(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,this.fetch("/v1/chain/get_producers",{json:t,lower_bound:e,limit:r})];case 1:return[2,n.sent()]}}))}))},t.prototype.get_raw_code_and_abi=function(t){return n(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_raw_code_and_abi",{account_name:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.getRawAbi=function(t){return n(this,void 0,void 0,(function(){var e,r;return i(this,(function(n){switch(n.label){case 0:return[4,this.get_raw_code_and_abi(t)];case 1:return e=n.sent(),r=s.base64ToBinary(e.abi),[2,{accountName:e.account_name,abi:r}]}}))}))},t.prototype.get_scheduled_transactions=function(t,e,r){return void 0===t&&(t=!0),void 0===e&&(e=""),void 0===r&&(r=50),n(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,this.fetch("/v1/chain/get_scheduled_transactions",{json:t,lower_bound:e,limit:r})];case 1:return[2,n.sent()]}}))}))},t.prototype.get_table_rows=function(t){var e=t.json,r=void 0===e||e,a=t.code,s=t.scope,o=t.table,u=t.lower_bound,h=void 0===u?"":u,c=t.upper_bound,l=void 0===c?"":c,d=t.index_position,f=void 0===d?1:d,p=t.key_type,_=void 0===p?"":p,y=t.limit,g=void 0===y?10:y,b=t.reverse,v=void 0!==b&&b,w=t.show_payer,m=void 0!==w&&w;return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_table_rows",{json:r,code:a,scope:s,table:o,lower_bound:h,upper_bound:l,index_position:f,key_type:_,limit:g,reverse:v,show_payer:m})];case 1:return[2,t.sent()]}}))}))},t.prototype.get_table_by_scope=function(t){var e=t.code,r=t.table,a=t.lower_bound,s=void 0===a?"":a,o=t.upper_bound,u=void 0===o?"":o,h=t.limit,c=void 0===h?10:h;return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_table_by_scope",{code:e,table:r,lower_bound:s,upper_bound:u,limit:c})];case 1:return[2,t.sent()]}}))}))},t.prototype.getRequiredKeys=function(t){return n(this,void 0,void 0,(function(){var e;return i(this,(function(r){switch(r.label){case 0:return e=s.convertLegacyPublicKeys,[4,this.fetch("/v1/chain/get_required_keys",{transaction:t.transaction,available_keys:t.availableKeys})];case 1:return[2,e.apply(void 0,[r.sent().required_keys])]}}))}))},t.prototype.push_transaction=function(t){var e=t.signatures,r=t.compression,a=void 0===r?0:r,s=t.serializedTransaction,o=t.serializedContextFreeData;return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/push_transaction",{signatures:e,compression:a,packed_context_free_data:u(o||new Uint8Array(0)),packed_trx:u(s)})];case 1:return[2,t.sent()]}}))}))},t.prototype.send_transaction=function(t){var e=t.signatures,r=t.compression,a=void 0===r?0:r,s=t.serializedTransaction,o=t.serializedContextFreeData;return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/send_transaction",{signatures:e,compression:a,packed_context_free_data:u(o||new Uint8Array(0)),packed_trx:u(s)})];case 1:return[2,t.sent()]}}))}))},t.prototype.db_size_get=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.fetch("/v1/db_size/get",{})];case 1:return[2,t.sent()]}}))}))},t.prototype.history_get_actions=function(t,e,r){return void 0===e&&(e=null),void 0===r&&(r=null),n(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,this.fetch("/v1/history/get_actions",{account_name:t,pos:e,offset:r})];case 1:return[2,n.sent()]}}))}))},t.prototype.history_get_transaction=function(t,e){return void 0===e&&(e=null),n(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,this.fetch("/v1/history/get_transaction",{id:t,block_num_hint:e})];case 1:return[2,r.sent()]}}))}))},t.prototype.history_get_key_accounts=function(t){return n(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/history/get_key_accounts",{public_key:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.history_get_controlled_accounts=function(t){return n(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.fetch("/v1/history/get_controlled_accounts",{controlling_account:t})];case 1:return[2,e.sent()]}}))}))},t}();e.JsonRpc=h},722:function(t,e,r){"use strict";var n=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,a=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},a=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.signatureToString=e.stringToSignature=e.privateKeyToString=e.privateKeyToLegacyString=e.stringToPrivateKey=e.convertLegacyPublicKeys=e.convertLegacyPublicKey=e.publicKeyToString=e.publicKeyToLegacyString=e.stringToPublicKey=e.signatureDataSize=e.privateKeyDataSize=e.publicKeyDataSize=e.KeyType=e.base64ToBinary=e.binaryToBase58=e.base58ToBinary=e.signedBinaryToDecimal=e.binaryToDecimal=e.signedDecimalToBinary=e.decimalToBinary=e.negate=e.isNegative=void 0;var s,o=r(715),u=r(57).RIPEMD160.hash,h="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=function(){for(var t=Array(256).fill(-1),e=0;e<h.length;++e)t[h.charCodeAt(e)]=e;return t}(),d=function(){for(var t=Array(256).fill(-1),e=0;e<c.length;++e)t[c.charCodeAt(e)]=e;return t["=".charCodeAt(0)]=0,t}();e.isNegative=function(t){return 0!=(128&t[t.length-1])},e.negate=function(t){for(var e=1,r=0;r<t.length;++r){var n=(255&~t[r])+e;t[r]=n,e=n>>8}},e.decimalToBinary=function(t,e){for(var r=new Uint8Array(t),n=0;n<e.length;++n){var i=e.charCodeAt(n);if(i<"0".charCodeAt(0)||i>"9".charCodeAt(0))throw new Error("invalid number");for(var a=i-"0".charCodeAt(0),s=0;s<t;++s){var o=10*r[s]+a;r[s]=o,a=o>>8}if(a)throw new Error("number is out of range")}return r},e.signedDecimalToBinary=function(t,r){var n="-"===r[0];n&&(r=r.substr(1));var i=e.decimalToBinary(t,r);if(n){if(e.negate(i),!e.isNegative(i))throw new Error("number is out of range")}else if(e.isNegative(i))throw new Error("number is out of range");return i},e.binaryToDecimal=function(t,e){void 0===e&&(e=1);for(var r=Array(e).fill("0".charCodeAt(0)),a=t.length-1;a>=0;--a){for(var s=t[a],o=0;o<r.length;++o){var u=(r[o]-"0".charCodeAt(0)<<8)+s;r[o]="0".charCodeAt(0)+u%10,s=u/10|0}for(;s;)r.push("0".charCodeAt(0)+s%10),s=s/10|0}return r.reverse(),String.fromCharCode.apply(String,i([],n(r)))},e.signedBinaryToDecimal=function(t,r){if(void 0===r&&(r=1),e.isNegative(t)){var n=t.slice();return e.negate(n),"-"+e.binaryToDecimal(n,r)}return e.binaryToDecimal(t,r)},e.base58ToBinary=function(t,e){if(!t)return function(t){for(var e,r,n=[],i=0;i<t.length;++i){var s=l[t.charCodeAt(i)];if(s<0)throw new Error("invalid base-58 value");for(var o=0;o<n.length;++o){var u=58*n[o]+s;n[o]=255&u,s=u>>8}s&&n.push(s)}try{for(var h=a(t),c=h.next();!c.done&&"1"===c.value;c=h.next())n.push(0)}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=h.return)&&r.call(h)}finally{if(e)throw e.error}}return n.reverse(),new Uint8Array(n)}(e);for(var r=new Uint8Array(t),n=0;n<e.length;++n){var i=l[e.charCodeAt(n)];if(i<0)throw new Error("invalid base-58 value");for(var s=0;s<t;++s){var o=58*r[s]+i;r[s]=o,i=o>>8}if(i)throw new Error("base-58 value is out of range")}return r.reverse(),r},e.binaryToBase58=function(t,e){var r,s,o,u;void 0===e&&(e=1);var c=[];try{for(var d=a(t),f=d.next();!f.done;f=d.next()){for(var p=f.value,_=0;_<c.length;++_){var y=(l[c[_]]<<8)+p;c[_]=h.charCodeAt(y%58),p=y/58|0}for(;p;)c.push(h.charCodeAt(p%58)),p=p/58|0}}catch(t){r={error:t}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}try{for(var g=a(t),b=g.next();!b.done&&!b.value;b=g.next())c.push("1".charCodeAt(0))}catch(t){o={error:t}}finally{try{b&&!b.done&&(u=g.return)&&u.call(g)}finally{if(o)throw o.error}}return c.reverse(),String.fromCharCode.apply(String,i([],n(c)))},e.base64ToBinary=function(t){var e=t.length;if(1==(3&e)&&"="===t[e-1]&&(e-=1),0!=(3&e))throw new Error("base-64 value is not padded correctly");var r=e>>2,n=3*r;e>0&&"="===t[e-1]&&("="===t[e-2]?n-=2:n-=1);for(var i=new Uint8Array(n),a=0;a<r;++a){var s=d[t.charCodeAt(4*a+0)],o=d[t.charCodeAt(4*a+1)],u=d[t.charCodeAt(4*a+2)],h=d[t.charCodeAt(4*a+3)];i[3*a+0]=s<<2|o>>4,3*a+1<n&&(i[3*a+1]=(15&o)<<4|u>>2),3*a+2<n&&(i[3*a+2]=(3&u)<<6|h)}return i},function(t){t[t.k1=0]="k1",t[t.r1=1]="r1",t[t.wa=2]="wa"}(s=e.KeyType||(e.KeyType={})),e.publicKeyDataSize=33,e.privateKeyDataSize=32,e.signatureDataSize=65;var f=function(t,e){for(var r=new Uint8Array(t.length+e.length),n=0;n<t.length;++n)r[n]=t[n];for(n=0;n<e.length;++n)r[t.length+n]=e.charCodeAt(n);return u(r)},p=function(t,r,n,i){var a=e.base58ToBinary(n?n+4:0,t),s={type:r,data:new Uint8Array(a.buffer,0,a.length-4)},o=new Uint8Array(f(s.data,i));if(o[0]!==a[a.length-4]||o[1]!==a[a.length-3]||o[2]!==a[a.length-2]||o[3]!==a[a.length-1])throw new Error("checksum doesn't match");return s},_=function(t,r,n){for(var i=new Uint8Array(f(t.data,r)),a=new Uint8Array(t.data.length+4),s=0;s<t.data.length;++s)a[s]=t.data[s];for(s=0;s<4;++s)a[s+t.data.length]=i[s];return n+e.binaryToBase58(a)};e.stringToPublicKey=function(t){if("string"!=typeof t)throw new Error("expected string containing public key");if("EOS"===t.substr(0,3)){for(var r=e.base58ToBinary(e.publicKeyDataSize+4,t.substr(3)),n={type:s.k1,data:new Uint8Array(e.publicKeyDataSize)},i=0;i<e.publicKeyDataSize;++i)n.data[i]=r[i];var a=new Uint8Array(u(n.data));if(a[0]!==r[e.publicKeyDataSize]||a[1]!==r[34]||a[2]!==r[35]||a[3]!==r[36])throw new Error("checksum doesn't match");return n}if("PUB_K1_"===t.substr(0,7))return p(t.substr(7),s.k1,e.publicKeyDataSize,"K1");if("PUB_R1_"===t.substr(0,7))return p(t.substr(7),s.r1,e.publicKeyDataSize,"R1");if("PUB_WA_"===t.substr(0,7))return p(t.substr(7),s.wa,0,"WA");throw new Error("unrecognized public key format")},e.publicKeyToLegacyString=function(t){if(t.type===s.k1&&t.data.length===e.publicKeyDataSize)return _(t,"","EOS");throw t.type===s.r1||t.type===s.wa?new Error("Key format not supported in legacy conversion"):new Error("unrecognized public key format")},e.publicKeyToString=function(t){if(t.type===s.k1&&t.data.length===e.publicKeyDataSize)return _(t,"K1","PUB_K1_");if(t.type===s.r1&&t.data.length===e.publicKeyDataSize)return _(t,"R1","PUB_R1_");if(t.type===s.wa)return _(t,"WA","PUB_WA_");throw new Error("unrecognized public key format")},e.convertLegacyPublicKey=function(t){return"EOS"===t.substr(0,3)?e.publicKeyToString(e.stringToPublicKey(t)):t},e.convertLegacyPublicKeys=function(t){return t.map(e.convertLegacyPublicKey)},e.stringToPrivateKey=function(t){if("string"!=typeof t)throw new Error("expected string containing private key");if("PVT_R1_"===t.substr(0,7))return p(t.substr(7),s.r1,e.privateKeyDataSize,"R1");if("PVT_K1_"===t.substr(0,7))return p(t.substr(7),s.k1,e.privateKeyDataSize,"K1");var r=e.base58ToBinary(e.privateKeyDataSize+5,t),n={type:s.k1,data:new Uint8Array(e.privateKeyDataSize)};if(128!==r[0])throw new Error("unrecognized private key type");for(var i=0;i<e.privateKeyDataSize;++i)n.data[i]=r[i+1];return n},e.privateKeyToLegacyString=function(t){if(t.type===s.k1&&t.data.length===e.privateKeyDataSize){var r=[];r.push(128),t.data.forEach((function(t){return r.push(t)}));for(var n=new Uint8Array(o.sha256().update(o.sha256().update(r).digest()).digest()),i=new Uint8Array(e.privateKeyDataSize+5),a=0;a<r.length;a++)i[a]=r[a];for(a=0;a<4;a++)i[a+r.length]=n[a];return e.binaryToBase58(i)}throw t.type===s.r1||t.type===s.wa?new Error("Key format not supported in legacy conversion"):new Error("unrecognized public key format")},e.privateKeyToString=function(t){if(t.type===s.r1)return _(t,"R1","PVT_R1_");if(t.type===s.k1)return _(t,"K1","PVT_K1_");throw new Error("unrecognized private key format")},e.stringToSignature=function(t){if("string"!=typeof t)throw new Error("expected string containing signature");if("SIG_K1_"===t.substr(0,7))return p(t.substr(7),s.k1,e.signatureDataSize,"K1");if("SIG_R1_"===t.substr(0,7))return p(t.substr(7),s.r1,e.signatureDataSize,"R1");if("SIG_WA_"===t.substr(0,7))return p(t.substr(7),s.wa,0,"WA");throw new Error("unrecognized signature format")},e.signatureToString=function(t){if(t.type===s.k1)return _(t,"K1","SIG_K1_");if(t.type===s.r1)return _(t,"R1","SIG_R1_");if(t.type===s.wa)return _(t,"WA","SIG_WA_");throw new Error("unrecognized signature format")}},787:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},485:function(t,e){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RpcError=void 0;var i=function(t){function e(r){var n=this;return n=r.error&&r.error.details&&r.error.details.length&&r.error.details[0].message?t.call(this,r.error.details[0].message)||this:r.processed&&r.processed.except&&r.processed.except.message?t.call(this,r.processed.except.message)||this:t.call(this,r.message)||this,Object.setPrototypeOf(n,e.prototype),n.json=r,n}return n(e,t),e}(Error);e.RpcError=i},888:function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,a=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},a=this&&this.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},s=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeAction=e.deserializeActionData=e.serializeAction=e.serializeActionData=e.transactionHeader=e.getTypesFromAbi=e.getType=e.createInitialTypes=e.hexToUint8Array=e.arrayToHex=e.symbolToString=e.stringToSymbol=e.blockTimestampToDate=e.dateToBlockTimestamp=e.timePointSecToDate=e.dateToTimePointSec=e.timePointToDate=e.dateToTimePoint=e.supportedAbiVersion=e.SerialBuffer=e.SerializerState=void 0;var o=r(722),u=function(t){void 0===t&&(t={}),this.skippedBinaryExtension=!1,this.options=t};e.SerializerState=u;var h=function(){function t(t){var e=void 0===t?{}:t,r=e.textEncoder,n=e.textDecoder,i=e.array;this.readPos=0,this.array=i||new Uint8Array(1024),this.length=i?i.length:0,this.textEncoder=r||new TextEncoder,this.textDecoder=n||new TextDecoder("utf-8",{fatal:!0})}return t.prototype.reserve=function(t){if(!(this.length+t<=this.array.length)){for(var e=this.array.length;this.length+t>e;)e=Math.ceil(1.5*e);var r=new Uint8Array(e);r.set(this.array),this.array=r}},t.prototype.haveReadData=function(){return this.readPos<this.length},t.prototype.restartRead=function(){this.readPos=0},t.prototype.asUint8Array=function(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.length)},t.prototype.pushArray=function(t){this.reserve(t.length),this.array.set(t,this.length),this.length+=t.length},t.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.pushArray(t)},t.prototype.get=function(){if(this.readPos<this.length)return this.array[this.readPos++];throw new Error("Read past end of buffer")},t.prototype.pushUint8ArrayChecked=function(t,e){if(t.length!==e)throw new Error("Binary data has incorrect size");this.pushArray(t)},t.prototype.getUint8Array=function(t){if(this.readPos+t>this.length)throw new Error("Read past end of buffer");var e=new Uint8Array(this.array.buffer,this.array.byteOffset+this.readPos,t);return this.readPos+=t,e},t.prototype.skip=function(t){if(this.readPos+t>this.length)throw new Error("Read past end of buffer");this.readPos+=t},t.prototype.pushUint16=function(t){this.push(t>>0&255,t>>8&255)},t.prototype.getUint16=function(){var t=0;return(t|=this.get()<<0)|this.get()<<8},t.prototype.pushUint32=function(t){this.push(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},t.prototype.getUint32=function(){var t=0;return t|=this.get()<<0,t|=this.get()<<8,t|=this.get()<<16,(t|=this.get()<<24)>>>0},t.prototype.pushNumberAsUint64=function(t){this.pushUint32(t>>>0),this.pushUint32(Math.floor(t/4294967296)>>>0)},t.prototype.getUint64AsNumber=function(){var t=this.getUint32();return 4294967296*(this.getUint32()>>>0)+(t>>>0)},t.prototype.pushVaruint32=function(t){for(;;){if(!(t>>>7)){this.push(t);break}this.push(128|127&t),t>>>=7}},t.prototype.getVaruint32=function(){for(var t=0,e=0;;){var r=this.get();if(t|=(127&r)<<e,e+=7,!(128&r))break}return t>>>0},t.prototype.pushVarint32=function(t){this.pushVaruint32(t<<1^t>>31)},t.prototype.getVarint32=function(){var t=this.getVaruint32();return 1&t?~t>>1|2147483648:t>>>1},t.prototype.pushFloat32=function(t){this.pushArray(new Uint8Array(new Float32Array([t]).buffer))},t.prototype.getFloat32=function(){return new Float32Array(this.getUint8Array(4).slice().buffer)[0]},t.prototype.pushFloat64=function(t){this.pushArray(new Uint8Array(new Float64Array([t]).buffer))},t.prototype.getFloat64=function(){return new Float64Array(this.getUint8Array(8).slice().buffer)[0]},t.prototype.pushName=function(t){if("string"!=typeof t)throw new Error("Expected string containing name");if(!new RegExp(/^[.1-5a-z]{0,12}[.1-5a-j]?$/).test(t))throw new Error("Name should be less than 13 characters, or less than 14 if last character is between 1-5 or a-j, and only contain the following symbols .12345abcdefghijklmnopqrstuvwxyz");for(var e=function(t){return t>="a".charCodeAt(0)&&t<="z".charCodeAt(0)?t-"a".charCodeAt(0)+6:t>="1".charCodeAt(0)&&t<="5".charCodeAt(0)?t-"1".charCodeAt(0)+1:0},r=new Uint8Array(8),n=63,i=0;i<t.length;++i){var a=e(t.charCodeAt(i));n<5&&(a<<=1);for(var s=4;s>=0;--s)n>=0&&(r[Math.floor(n/8)]|=(a>>s&1)<<n%8,--n)}this.pushArray(r)},t.prototype.getName=function(){for(var t=this.getUint8Array(8),e="",r=63;r>=0;){for(var n=0,i=0;i<5;++i)r>=0&&(n=n<<1|t[Math.floor(r/8)]>>r%8&1,--r);e+=n>=6?String.fromCharCode(n+"a".charCodeAt(0)-6):n>=1?String.fromCharCode(n+"1".charCodeAt(0)-1):"."}for(;e.endsWith(".");)e=e.substr(0,e.length-1);return e},t.prototype.pushBytes=function(t){this.pushVaruint32(t.length),this.pushArray(t)},t.prototype.getBytes=function(){return this.getUint8Array(this.getVaruint32())},t.prototype.pushString=function(t){this.pushBytes(this.textEncoder.encode(t))},t.prototype.getString=function(){return this.textDecoder.decode(this.getBytes())},t.prototype.pushSymbolCode=function(t){if("string"!=typeof t)throw new Error("Expected string containing symbol_code");var e=[];for(e.push.apply(e,a([],i(this.textEncoder.encode(t))));e.length<8;)e.push(0);this.pushArray(e.slice(0,8))},t.prototype.getSymbolCode=function(){var t,e=this.getUint8Array(8);for(t=0;t<e.length&&e[t];++t);return this.textDecoder.decode(new Uint8Array(e.buffer,e.byteOffset,t))},t.prototype.pushSymbol=function(t){var e=t.name,r=t.precision;if(!/^[A-Z]{1,7}$/.test(e))throw new Error("Expected symbol to be A-Z and between one and seven characters");var n=[255&r];for(n.push.apply(n,a([],i(this.textEncoder.encode(e))));n.length<8;)n.push(0);this.pushArray(n.slice(0,8))},t.prototype.getSymbol=function(){var t,e=this.get(),r=this.getUint8Array(7);for(t=0;t<r.length&&r[t];++t);return{name:this.textDecoder.decode(new Uint8Array(r.buffer,r.byteOffset,t)),precision:e}},t.prototype.pushAsset=function(t){if("string"!=typeof t)throw new Error("Expected string containing asset");var e=0,r="",n=0;"-"===(t=t.trim())[e]&&(r+="-",++e);for(var i=!1;e<t.length&&t.charCodeAt(e)>="0".charCodeAt(0)&&t.charCodeAt(e)<="9".charCodeAt(0);)i=!0,r+=t[e],++e;if(!i)throw new Error("Asset must begin with a number");if("."===t[e])for(++e;e<t.length&&t.charCodeAt(e)>="0".charCodeAt(0)&&t.charCodeAt(e)<="9".charCodeAt(0);)r+=t[e],++n,++e;var a=t.substr(e).trim();this.pushArray(o.signedDecimalToBinary(8,r)),this.pushSymbol({name:a,precision:n})},t.prototype.getAsset=function(){var t=this.getUint8Array(8),e=this.getSymbol(),r=e.name,n=e.precision,i=o.signedBinaryToDecimal(t,n+1);return n&&(i=i.substr(0,i.length-n)+"."+i.substr(i.length-n)),i+" "+r},t.prototype.pushPublicKey=function(t){var e=o.stringToPublicKey(t);this.push(e.type),this.pushArray(e.data)},t.prototype.getPublicKey=function(){var t,e=this.get();if(e===o.KeyType.wa){var r=this.readPos;this.skip(34),this.skip(this.getVaruint32()),t=new Uint8Array(this.array.buffer,this.array.byteOffset+r,this.readPos-r)}else t=this.getUint8Array(o.publicKeyDataSize);return o.publicKeyToString({type:e,data:t})},t.prototype.pushPrivateKey=function(t){var e=o.stringToPrivateKey(t);this.push(e.type),this.pushArray(e.data)},t.prototype.getPrivateKey=function(){var t=this.get(),e=this.getUint8Array(o.privateKeyDataSize);return o.privateKeyToString({type:t,data:e})},t.prototype.pushSignature=function(t){var e=o.stringToSignature(t);this.push(e.type),this.pushArray(e.data)},t.prototype.getSignature=function(){var t,e=this.get();if(e===o.KeyType.wa){var r=this.readPos;this.skip(65),this.skip(this.getVaruint32()),this.skip(this.getVaruint32()),t=new Uint8Array(this.array.buffer,this.array.byteOffset+r,this.readPos-r)}else t=this.getUint8Array(o.signatureDataSize);return o.signatureToString({type:e,data:t})},t}();e.SerialBuffer=h,e.supportedAbiVersion=function(t){return t.startsWith("eosio::abi/1.")};var c=function(t){var e=Date.parse(t);if(Number.isNaN(e))throw new Error("Invalid time format");return e};function l(t,e){throw new Error("Don't know how to serialize "+this.name)}function d(t){throw new Error("Don't know how to deserialize "+this.name)}function f(t,e,r,n){var i,a;if(void 0===r&&(r=new u),void 0===n&&(n=!0),"object"!=typeof e)throw new Error("expected object containing data: "+JSON.stringify(e));this.base&&this.base.serialize(t,e,r,n);try{for(var o=s(this.fields),h=o.next();!h.done;h=o.next()){var c=h.value;if(c.name in e){if(r.skippedBinaryExtension)throw new Error("unexpected "+this.name+"."+c.name);c.type.serialize(t,e[c.name],r,n&&c===this.fields[this.fields.length-1])}else{if(!n||!c.type.extensionOf)throw new Error("missing "+this.name+"."+c.name+" (type="+c.type.name+")");r.skippedBinaryExtension=!0}}}catch(t){i={error:t}}finally{try{h&&!h.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}}function p(t,e,r){var n,i,a;void 0===e&&(e=new u),void 0===r&&(r=!0),a=this.base?this.base.deserialize(t,e,r):{};try{for(var o=s(this.fields),h=o.next();!h.done;h=o.next()){var c=h.value;r&&c.type.extensionOf&&!t.haveReadData()?e.skippedBinaryExtension=!0:a[c.name]=c.type.deserialize(t,e,r)}}catch(t){n={error:t}}finally{try{h&&!h.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a}function _(t,e,r,n){if(!Array.isArray(e)||2!==e.length||"string"!=typeof e[0])throw new Error('expected variant: ["type", value]');var i=this.fields.findIndex((function(t){return t.name===e[0]}));if(i<0)throw new Error('type "'+e[0]+'" is not valid for variant');t.pushVaruint32(i),this.fields[i].type.serialize(t,e[1],r,n)}function y(t,e,r){var n=t.getVaruint32();if(n>=this.fields.length)throw new Error("type index "+n+" is not valid for variant");var i=this.fields[n];return[i.name,i.type.deserialize(t,e,r)]}function g(t,e,r,n){var i,a;t.pushVaruint32(e.length);try{for(var o=s(e),u=o.next();!u.done;u=o.next()){var h=u.value;this.arrayOf.serialize(t,h,r,!1)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(a=o.return)&&a.call(o)}finally{if(i)throw i.error}}}function b(t,e,r){for(var n=t.getVaruint32(),i=[],a=0;a<n;++a)i.push(this.arrayOf.deserialize(t,e,!1));return i}function v(t,e,r,n){null==e?t.push(0):(t.push(1),this.optionalOf.serialize(t,e,r,n))}function w(t,e,r){return t.get()?this.optionalOf.deserialize(t,e,r):null}function m(t,e,r,n){this.extensionOf.serialize(t,e,r,n)}function x(t,e,r){return this.extensionOf.deserialize(t,e,r)}e.dateToTimePoint=function(t){return Math.round(1e3*c(t+"Z"))},e.timePointToDate=function(t){var e=new Date(t/1e3).toISOString();return e.substr(0,e.length-1)},e.dateToTimePointSec=function(t){return Math.round(c(t+"Z")/1e3)},e.timePointSecToDate=function(t){var e=new Date(1e3*t).toISOString();return e.substr(0,e.length-1)},e.dateToBlockTimestamp=function(t){return Math.round((c(t+"Z")-9466848e5)/500)},e.blockTimestampToDate=function(t){var e=new Date(500*t+9466848e5).toISOString();return e.substr(0,e.length-1)},e.stringToSymbol=function(t){if("string"!=typeof t)throw new Error("Expected string containing symbol");var e=t.match(/^([0-9]+),([A-Z]+)$/);if(!e)throw new Error("Invalid symbol");return{name:e[2],precision:+e[1]}},e.symbolToString=function(t){var e=t.name;return t.precision+","+e},e.arrayToHex=function(t){var e,r,n="";try{for(var i=s(t),a=i.next();!a.done;a=i.next())n+=("00"+a.value.toString(16)).slice(-2)}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n.toUpperCase()},e.hexToUint8Array=function(t){if("string"!=typeof t)throw new Error("Expected string containing hex digits");if(t.length%2)throw new Error("Odd number of hex digits");for(var e=t.length/2,r=new Uint8Array(e),n=0;n<e;++n){var i=parseInt(t.substr(2*n,2),16);if(Number.isNaN(i))throw new Error("Expected hex string");r[n]=i}return r};var k=function(t){return n({name:"<missing name>",aliasOfName:"",arrayOf:null,optionalOf:null,extensionOf:null,baseName:"",base:null,fields:[],serialize:l,deserialize:d},t)},A=function(t,e){if(Number.isNaN(+t)||Number.isNaN(+e)||"number"!=typeof t&&"string"!=typeof t)throw new Error("Expected number");if(+t!=+e)throw new Error("Number is out of range");return+t};e.createInitialTypes=function(){var t=new Map(Object.entries({bool:k({name:"bool",serialize:function(t,e){if("boolean"!=typeof e&&("number"!=typeof e||1!==e&&0!==e))throw new Error("Expected boolean or number equal to 1 or 0");t.push(e?1:0)},deserialize:function(t){return!!t.get()}}),uint8:k({name:"uint8",serialize:function(t,e){t.push(A(e,255&e))},deserialize:function(t){return t.get()}}),int8:k({name:"int8",serialize:function(t,e){t.push(A(e,e<<24>>24))},deserialize:function(t){return t.get()<<24>>24}}),uint16:k({name:"uint16",serialize:function(t,e){t.pushUint16(A(e,65535&e))},deserialize:function(t){return t.getUint16()}}),int16:k({name:"int16",serialize:function(t,e){t.pushUint16(A(e,e<<16>>16))},deserialize:function(t){return t.getUint16()<<16>>16}}),uint32:k({name:"uint32",serialize:function(t,e){t.pushUint32(A(e,e>>>0))},deserialize:function(t){return t.getUint32()}}),uint64:k({name:"uint64",serialize:function(t,e){t.pushArray(o.decimalToBinary(8,""+e))},deserialize:function(t){return o.binaryToDecimal(t.getUint8Array(8))}}),int64:k({name:"int64",serialize:function(t,e){t.pushArray(o.signedDecimalToBinary(8,""+e))},deserialize:function(t){return o.signedBinaryToDecimal(t.getUint8Array(8))}}),int32:k({name:"int32",serialize:function(t,e){t.pushUint32(A(e,0|e))},deserialize:function(t){return 0|t.getUint32()}}),varuint32:k({name:"varuint32",serialize:function(t,e){t.pushVaruint32(A(e,e>>>0))},deserialize:function(t){return t.getVaruint32()}}),varint32:k({name:"varint32",serialize:function(t,e){t.pushVarint32(A(e,0|e))},deserialize:function(t){return t.getVarint32()}}),uint128:k({name:"uint128",serialize:function(t,e){t.pushArray(o.decimalToBinary(16,""+e))},deserialize:function(t){return o.binaryToDecimal(t.getUint8Array(16))}}),int128:k({name:"int128",serialize:function(t,e){t.pushArray(o.signedDecimalToBinary(16,""+e))},deserialize:function(t){return o.signedBinaryToDecimal(t.getUint8Array(16))}}),float32:k({name:"float32",serialize:function(t,e){t.pushFloat32(e)},deserialize:function(t){return t.getFloat32()}}),float64:k({name:"float64",serialize:function(t,e){t.pushFloat64(e)},deserialize:function(t){return t.getFloat64()}}),float128:k({name:"float128",serialize:function(t,r){t.pushUint8ArrayChecked(e.hexToUint8Array(r),16)},deserialize:function(t){return e.arrayToHex(t.getUint8Array(16))}}),bytes:k({name:"bytes",serialize:function(t,r){r instanceof Uint8Array||Array.isArray(r)?t.pushBytes(r):t.pushBytes(e.hexToUint8Array(r))},deserialize:function(t,r){return r&&r.options.bytesAsUint8Array?t.getBytes():e.arrayToHex(t.getBytes())}}),string:k({name:"string",serialize:function(t,e){t.pushString(e)},deserialize:function(t){return t.getString()}}),name:k({name:"name",serialize:function(t,e){t.pushName(e)},deserialize:function(t){return t.getName()}}),time_point:k({name:"time_point",serialize:function(t,r){t.pushNumberAsUint64(e.dateToTimePoint(r))},deserialize:function(t){return e.timePointToDate(t.getUint64AsNumber())}}),time_point_sec:k({name:"time_point_sec",serialize:function(t,r){t.pushUint32(e.dateToTimePointSec(r))},deserialize:function(t){return e.timePointSecToDate(t.getUint32())}}),block_timestamp_type:k({name:"block_timestamp_type",serialize:function(t,r){t.pushUint32(e.dateToBlockTimestamp(r))},deserialize:function(t){return e.blockTimestampToDate(t.getUint32())}}),symbol_code:k({name:"symbol_code",serialize:function(t,e){t.pushSymbolCode(e)},deserialize:function(t){return t.getSymbolCode()}}),symbol:k({name:"symbol",serialize:function(t,r){t.pushSymbol(e.stringToSymbol(r))},deserialize:function(t){return e.symbolToString(t.getSymbol())}}),asset:k({name:"asset",serialize:function(t,e){t.pushAsset(e)},deserialize:function(t){return t.getAsset()}}),checksum160:k({name:"checksum160",serialize:function(t,r){t.pushUint8ArrayChecked(e.hexToUint8Array(r),20)},deserialize:function(t){return e.arrayToHex(t.getUint8Array(20))}}),checksum256:k({name:"checksum256",serialize:function(t,r){t.pushUint8ArrayChecked(e.hexToUint8Array(r),32)},deserialize:function(t){return e.arrayToHex(t.getUint8Array(32))}}),checksum512:k({name:"checksum512",serialize:function(t,r){t.pushUint8ArrayChecked(e.hexToUint8Array(r),64)},deserialize:function(t){return e.arrayToHex(t.getUint8Array(64))}}),public_key:k({name:"public_key",serialize:function(t,e){t.pushPublicKey(e)},deserialize:function(t){return t.getPublicKey()}}),private_key:k({name:"private_key",serialize:function(t,e){t.pushPrivateKey(e)},deserialize:function(t){return t.getPrivateKey()}}),signature:k({name:"signature",serialize:function(t,e){t.pushSignature(e)},deserialize:function(t){return t.getSignature()}})}));return t.set("extended_asset",k({name:"extended_asset",baseName:"",fields:[{name:"quantity",typeName:"asset",type:t.get("asset")},{name:"contract",typeName:"name",type:t.get("name")}],serialize:f,deserialize:p})),t},e.getType=function(t,r){var n=t.get(r);if(n&&n.aliasOfName)return e.getType(t,n.aliasOfName);if(n)return n;if(r.endsWith("[]"))return k({name:r,arrayOf:e.getType(t,r.substr(0,r.length-2)),serialize:g,deserialize:b});if(r.endsWith("?"))return k({name:r,optionalOf:e.getType(t,r.substr(0,r.length-1)),serialize:v,deserialize:w});if(r.endsWith("$"))return k({name:r,extensionOf:e.getType(t,r.substr(0,r.length-1)),serialize:m,deserialize:x});throw new Error("Unknown type: "+r)},e.getTypesFromAbi=function(t,r){var n,a,o,u,h,c,l,d,g,b,v=new Map(t);if(r.types)try{for(var w=s(r.types),m=w.next();!m.done;m=w.next()){var x=m.value,A=x.new_type_name,z=x.type;v.set(A,k({name:A,aliasOfName:z}))}}catch(t){n={error:t}}finally{try{m&&!m.done&&(a=w.return)&&a.call(w)}finally{if(n)throw n.error}}if(r.structs)try{for(var S=s(r.structs),E=S.next();!E.done;E=S.next()){var T=E.value,U=T.name,D=T.base,R=T.fields;v.set(U,k({name:U,baseName:D,fields:R.map((function(t){return{name:t.name,typeName:t.type,type:null}})),serialize:f,deserialize:p}))}}catch(t){o={error:t}}finally{try{E&&!E.done&&(u=S.return)&&u.call(S)}finally{if(o)throw o.error}}if(r.variants)try{for(var O=s(r.variants),C=O.next();!C.done;C=O.next()){var P=C.value,B=P.name,K=P.types;v.set(B,k({name:B,fields:K.map((function(t){return{name:t,typeName:t,type:null}})),serialize:_,deserialize:y}))}}catch(t){h={error:t}}finally{try{C&&!C.done&&(c=O.return)&&c.call(O)}finally{if(h)throw h.error}}try{for(var N=s(v),L=N.next();!L.done;L=N.next()){var Z=i(L.value,2);Z[0],(z=Z[1]).baseName&&(z.base=e.getType(v,z.baseName));try{for(var I=(g=void 0,s(z.fields)),F=I.next();!F.done;F=I.next()){var j=F.value;j.type=e.getType(v,j.typeName)}}catch(t){g={error:t}}finally{try{F&&!F.done&&(b=I.return)&&b.call(I)}finally{if(g)throw g.error}}}}catch(t){l={error:t}}finally{try{L&&!L.done&&(d=N.return)&&d.call(N)}finally{if(l)throw l.error}}return v},e.transactionHeader=function(t,r){var n,i=t.header?t.header.timestamp:t.timestamp,a=parseInt((n=t.id.substr(16,8)).substr(6,2)+n.substr(4,2)+n.substr(2,2)+n.substr(0,2),16);return{expiration:e.timePointSecToDate(e.dateToTimePointSec(i)+r),ref_block_num:65535&t.block_num,ref_block_prefix:a}},e.serializeActionData=function(t,r,n,i,a,s){var o=t.actions.get(n);if(!o)throw new Error("Unknown action "+n+" in contract "+r);var u=new h({textEncoder:a,textDecoder:s});return o.serialize(u,i),e.arrayToHex(u.asUint8Array())},e.serializeAction=function(t,r,n,i,a,s,o){return{account:r,name:n,authorization:i,data:e.serializeActionData(t,r,n,a,s,o)}},e.deserializeActionData=function(t,r,n,i,a,s){var o=t.actions.get(n);if("string"==typeof i&&(i=e.hexToUint8Array(i)),!o)throw new Error("Unknown action "+n+" in contract "+r);var u=new h({textDecoder:s,textEncoder:a});return u.pushArray(i),o.deserialize(u)},e.deserializeAction=function(t,r,n,i,a,s,o){return{account:r,name:n,authorization:i,data:e.deserializeActionData(t,r,n,a,s,o)}}},316:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Serialize=e.RpcError=e.RpcInterfaces=e.Numeric=e.JsonRpc=e.ApiInterfaces=e.Api=void 0;var n=r(982);Object.defineProperty(e,"Api",{enumerable:!0,get:function(){return n.Api}});var i=r(220);e.ApiInterfaces=i;var a=r(556);Object.defineProperty(e,"JsonRpc",{enumerable:!0,get:function(){return a.JsonRpc}});var s=r(722);e.Numeric=s;var o=r(787);e.RpcInterfaces=o;var u=r(485);Object.defineProperty(e,"RpcError",{enumerable:!0,get:function(){return u.RpcError}});var h=r(888);e.Serialize=h},57:t=>{"use strict";var e=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return e(t,null,[{key:"get_n_pad_bytes",value:function(t){return 64-(t+8&63)}},{key:"pad",value:function(e){var r,n,i=e.byteLength,a=t.get_n_pad_bytes(i),s=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((r=i,n=536870912,[Math.floor(r/n),r%n]).map((function(t,e){return e?8*t:t})),2),o=s[0],u=s[1],h=new Uint8Array(i+a+8);h.set(new Uint8Array(e),0);var c=new DataView(h.buffer);return c.setUint8(i,128),c.setUint32(i+a,u,!0),c.setUint32(i+a+4,o,!0),h.buffer}},{key:"f",value:function(t,e,r,n){return 0<=t&&t<=15?e^r^n:16<=t&&t<=31?e&r|~e&n:32<=t&&t<=47?(e|~r)^n:48<=t&&t<=63?e&n|r&~n:64<=t&&t<=79?e^(r|~n):void 0}},{key:"K",value:function(t){return 0<=t&&t<=15?0:16<=t&&t<=31?1518500249:32<=t&&t<=47?1859775393:48<=t&&t<=63?2400959708:64<=t&&t<=79?2840853838:void 0}},{key:"KP",value:function(t){return 0<=t&&t<=15?1352829926:16<=t&&t<=31?1548603684:32<=t&&t<=47?1836072691:48<=t&&t<=63?2053994217:64<=t&&t<=79?0:void 0}},{key:"add_modulo32",value:function(){return 0|Array.from(arguments).reduce((function(t,e){return t+e}),0)}},{key:"rol32",value:function(t,e){return t<<e|t>>>32-e}},{key:"hash",value:function(e){for(var r=t.pad(e),n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],i=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],a=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],s=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],o=r.byteLength/64,u=new Array(o).fill(void 0).map((function(t,e){return function(t){return new DataView(r,64*e,64).getUint32(4*t,!0)}})),h=[1732584193,4023233417,2562383102,271733878,3285377520],c=0;c<o;++c){for(var l=h[0],d=h[1],f=h[2],p=h[3],_=h[4],y=l,g=d,b=f,v=p,w=_,m=0;m<80;++m){var x=t.add_modulo32(t.rol32(t.add_modulo32(l,t.f(m,d,f,p),u[c](n[m]),t.K(m)),a[m]),_);l=_,_=p,p=t.rol32(f,10),f=d,d=x,x=t.add_modulo32(t.rol32(t.add_modulo32(y,t.f(79-m,g,b,v),u[c](i[m]),t.KP(m)),s[m]),w),y=w,w=v,v=t.rol32(b,10),b=g,g=x}var k=t.add_modulo32(h[1],f,v);h[1]=t.add_modulo32(h[2],p,w),h[2]=t.add_modulo32(h[3],_,y),h[3]=t.add_modulo32(h[4],l,g),h[4]=t.add_modulo32(h[0],d,b),h[0]=k}var A=new ArrayBuffer(20),z=new DataView(A);return h.forEach((function(t,e){return z.setUint32(4*e,t,!0)})),A}}]),t}();t.exports={RIPEMD160:r}},892:t=>{"use strict";t.exports=JSON.parse('{"version":"eosio::abi/1.1","structs":[{"name":"extensions_entry","base":"","fields":[{"name":"tag","type":"uint16"},{"name":"value","type":"bytes"}]},{"name":"type_def","base":"","fields":[{"name":"new_type_name","type":"string"},{"name":"type","type":"string"}]},{"name":"field_def","base":"","fields":[{"name":"name","type":"string"},{"name":"type","type":"string"}]},{"name":"struct_def","base":"","fields":[{"name":"name","type":"string"},{"name":"base","type":"string"},{"name":"fields","type":"field_def[]"}]},{"name":"action_def","base":"","fields":[{"name":"name","type":"name"},{"name":"type","type":"string"},{"name":"ricardian_contract","type":"string"}]},{"name":"table_def","base":"","fields":[{"name":"name","type":"name"},{"name":"index_type","type":"string"},{"name":"key_names","type":"string[]"},{"name":"key_types","type":"string[]"},{"name":"type","type":"string"}]},{"name":"clause_pair","base":"","fields":[{"name":"id","type":"string"},{"name":"body","type":"string"}]},{"name":"error_message","base":"","fields":[{"name":"error_code","type":"uint64"},{"name":"error_msg","type":"string"}]},{"name":"variant_def","base":"","fields":[{"name":"name","type":"string"},{"name":"types","type":"string[]"}]},{"name":"abi_def","base":"","fields":[{"name":"version","type":"string"},{"name":"types","type":"type_def[]"},{"name":"structs","type":"struct_def[]"},{"name":"actions","type":"action_def[]"},{"name":"tables","type":"table_def[]"},{"name":"ricardian_clauses","type":"clause_pair[]"},{"name":"error_messages","type":"error_message[]"},{"name":"abi_extensions","type":"extensions_entry[]"},{"name":"variants","type":"variant_def[]$"}]}]}')},450:t=>{"use strict";t.exports=JSON.parse('{"version":"eosio::abi/1.0","types":[{"new_type_name":"account_name","type":"name"},{"new_type_name":"action_name","type":"name"},{"new_type_name":"permission_name","type":"name"}],"structs":[{"name":"permission_level","base":"","fields":[{"name":"actor","type":"account_name"},{"name":"permission","type":"permission_name"}]},{"name":"action","base":"","fields":[{"name":"account","type":"account_name"},{"name":"name","type":"action_name"},{"name":"authorization","type":"permission_level[]"},{"name":"data","type":"bytes"}]},{"name":"extension","base":"","fields":[{"name":"type","type":"uint16"},{"name":"data","type":"bytes"}]},{"name":"transaction_header","base":"","fields":[{"name":"expiration","type":"time_point_sec"},{"name":"ref_block_num","type":"uint16"},{"name":"ref_block_prefix","type":"uint32"},{"name":"max_net_usage_words","type":"varuint32"},{"name":"max_cpu_usage_ms","type":"uint8"},{"name":"delay_sec","type":"varuint32"}]},{"name":"transaction","base":"transaction_header","fields":[{"name":"context_free_actions","type":"action[]"},{"name":"actions","type":"action[]"},{"name":"transaction_extensions","type":"extension[]"}]}]}')},715:(t,e,r)=>{var n=e;n.utils=r(436),n.common=r(772),n.sha=r(41),n.ripemd=r(949),n.hmac=r(326),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},772:(t,e,r)=>{"use strict";var n=r(436),i=r(746);function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=a,a.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},a.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},a.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,a=8;a<this.padLength;a++)n[i++]=0;return n}},326:(t,e,r)=>{"use strict";var n=r(436),i=r(746);function a(t,e,r){if(!(this instanceof a))return new a(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,r))}t.exports=a,a.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},a.prototype.update=function(t,e){return this.inner.update(t,e),this},a.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},949:(t,e,r)=>{"use strict";var n=r(436),i=r(772),a=n.rotl32,s=n.sum32,o=n.sum32_3,u=n.sum32_4,h=i.BlockHash;function c(){if(!(this instanceof c))return new c;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function l(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function d(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function f(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}n.inherits(c,h),e.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],h=this.h[3],c=this.h[4],b=r,v=n,w=i,m=h,x=c,k=0;k<80;k++){var A=s(a(u(r,l(k,n,i,h),t[p[k]+e],d(k)),y[k]),c);r=c,c=h,h=a(i,10),i=n,n=A,A=s(a(u(b,l(79-k,v,w,m),t[_[k]+e],f(k)),g[k]),x),b=x,x=m,m=a(w,10),w=v,v=A}A=o(this.h[1],i,m),this.h[1]=o(this.h[2],h,x),this.h[2]=o(this.h[3],c,b),this.h[3]=o(this.h[4],r,v),this.h[4]=o(this.h[0],n,w),this.h[0]=A},c.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},41:(t,e,r)=>{"use strict";e.sha1=r(761),e.sha224=r(799),e.sha256=r(344),e.sha384=r(978),e.sha512=r(900)},761:(t,e,r)=>{"use strict";var n=r(436),i=r(772),a=r(38),s=n.rotl32,o=n.sum32,u=n.sum32_5,h=a.ft_1,c=i.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(d,c),t.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],a=this.h[1],c=this.h[2],d=this.h[3],f=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),_=u(s(i,5),h(p,a,c,d),f,r[n],l[p]);f=d,d=c,c=s(a,30),a=i,i=_}this.h[0]=o(this.h[0],i),this.h[1]=o(this.h[1],a),this.h[2]=o(this.h[2],c),this.h[3]=o(this.h[3],d),this.h[4]=o(this.h[4],f)},d.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},799:(t,e,r)=>{"use strict";var n=r(436),i=r(344);function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(a,i),t.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},344:(t,e,r)=>{"use strict";var n=r(436),i=r(772),a=r(38),s=r(746),o=n.sum32,u=n.sum32_4,h=n.sum32_5,c=a.ch32,l=a.maj32,d=a.s0_256,f=a.s1_256,p=a.g0_256,_=a.g1_256,y=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}n.inherits(b,y),t.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=u(_(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],a=this.h[1],y=this.h[2],g=this.h[3],b=this.h[4],v=this.h[5],w=this.h[6],m=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var x=h(m,f(b),c(b,v,w),this.k[n],r[n]),k=o(d(i),l(i,a,y));m=w,w=v,v=b,b=o(g,x),g=y,y=a,a=i,i=o(x,k)}this.h[0]=o(this.h[0],i),this.h[1]=o(this.h[1],a),this.h[2]=o(this.h[2],y),this.h[3]=o(this.h[3],g),this.h[4]=o(this.h[4],b),this.h[5]=o(this.h[5],v),this.h[6]=o(this.h[6],w),this.h[7]=o(this.h[7],m)},b.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},978:(t,e,r)=>{"use strict";var n=r(436),i=r(900);function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(a,i),t.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},900:(t,e,r)=>{"use strict";var n=r(436),i=r(772),a=r(746),s=n.rotr64_hi,o=n.rotr64_lo,u=n.shr64_hi,h=n.shr64_lo,c=n.sum64,l=n.sum64_hi,d=n.sum64_lo,f=n.sum64_4_hi,p=n.sum64_4_lo,_=n.sum64_5_hi,y=n.sum64_5_lo,g=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function w(t,e,r,n,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function m(t,e,r,n,i,a){var s=e&n^~e&a;return s<0&&(s+=4294967296),s}function x(t,e,r,n,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function k(t,e,r,n,i,a){var s=e&n^e&a^n&a;return s<0&&(s+=4294967296),s}function A(t,e){var r=s(t,e,28)^s(e,t,2)^s(e,t,7);return r<0&&(r+=4294967296),r}function z(t,e){var r=o(t,e,28)^o(e,t,2)^o(e,t,7);return r<0&&(r+=4294967296),r}function S(t,e){var r=o(t,e,14)^o(t,e,18)^o(e,t,9);return r<0&&(r+=4294967296),r}function E(t,e){var r=s(t,e,1)^s(t,e,8)^u(t,e,7);return r<0&&(r+=4294967296),r}function T(t,e){var r=o(t,e,1)^o(t,e,8)^h(t,e,7);return r<0&&(r+=4294967296),r}function U(t,e){var r=o(t,e,19)^o(e,t,29)^h(t,e,6);return r<0&&(r+=4294967296),r}n.inherits(v,g),t.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=(y=r[n-4],g=r[n-3],b=void 0,(b=s(y,g,19)^s(g,y,29)^u(y,g,6))<0&&(b+=4294967296),b),a=U(r[n-4],r[n-3]),o=r[n-14],h=r[n-13],c=E(r[n-30],r[n-29]),l=T(r[n-30],r[n-29]),d=r[n-32],_=r[n-31];r[n]=f(i,a,o,h,c,l,d,_),r[n+1]=p(i,a,o,h,c,l,d,_)}var y,g,b},v.prototype._update=function(t,e){this._prepareBlock(t,e);var r,n,i,o=this.W,u=this.h[0],h=this.h[1],f=this.h[2],p=this.h[3],g=this.h[4],b=this.h[5],v=this.h[6],E=this.h[7],T=this.h[8],U=this.h[9],D=this.h[10],R=this.h[11],O=this.h[12],C=this.h[13],P=this.h[14],B=this.h[15];a(this.k.length===o.length);for(var K=0;K<o.length;K+=2){var N=P,L=B,Z=(i=void 0,(i=s(r=T,n=U,14)^s(r,n,18)^s(n,r,9))<0&&(i+=4294967296),i),I=S(T,U),F=w(T,0,D,0,O),j=m(0,U,0,R,0,C),H=this.k[K],M=this.k[K+1],V=o[K],W=o[K+1],G=_(N,L,Z,I,F,j,H,M,V,W),J=y(N,L,Z,I,F,j,H,M,V,W);N=A(u,h),L=z(u,h),Z=x(u,0,f,0,g),I=k(0,h,0,p,0,b);var q=l(N,L,Z,I),Y=d(N,L,Z,I);P=O,B=C,O=D,C=R,D=T,R=U,T=l(v,E,G,J),U=d(E,E,G,J),v=g,E=b,g=f,b=p,f=u,p=h,u=l(G,J,q,Y),h=d(G,J,q,Y)}c(this.h,0,u,h),c(this.h,2,f,p),c(this.h,4,g,b),c(this.h,6,v,E),c(this.h,8,T,U),c(this.h,10,D,R),c(this.h,12,O,C),c(this.h,14,P,B)},v.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},38:(t,e,r)=>{"use strict";var n=r(436).rotr32;function i(t,e,r){return t&e^~t&r}function a(t,e,r){return t&e^t&r^e&r}function s(t,e,r){return t^e^r}e.ft_1=function(t,e,r,n){return 0===t?i(e,r,n):1===t||3===t?s(e,r,n):2===t?a(e,r,n):void 0},e.ch32=i,e.maj32=a,e.p32=s,e.s0_256=function(t){return n(t,2)^n(t,13)^n(t,22)},e.s1_256=function(t){return n(t,6)^n(t,11)^n(t,25)},e.g0_256=function(t){return n(t,7)^n(t,18)^t>>>3},e.g1_256=function(t){return n(t,17)^n(t,19)^t>>>10}},436:(t,e,r)=>{"use strict";var n=r(746),i=r(717);function a(t,e){return 55296==(64512&t.charCodeAt(e))&&!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1))}function s(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function o(t){return 1===t.length?"0"+t:t}function u(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):a(t,i)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=o(t[r].toString(16));return e},e.htonl=s,e.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=s(i)),r+=u(i.toString(16))}return r},e.zero2=o,e.zero8=u,e.join32=function(t,e,r,i){var a=r-e;n(a%4==0);for(var s=new Array(a/4),o=0,u=e;o<s.length;o++,u+=4){var h;h="big"===i?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],s[o]=h>>>0}return s},e.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var a=t[n];"big"===e?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=255&a):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=255&a)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},e.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},e.sum64=function(t,e,r,n){var i=t[e],a=n+t[e+1]>>>0,s=(a<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=a},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,a,s,o){var u=0,h=e;return u+=(h=h+n>>>0)<e?1:0,u+=(h=h+a>>>0)<a?1:0,t+r+i+s+(u+=(h=h+o>>>0)<o?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,a,s,o){return e+n+a+o>>>0},e.sum64_5_hi=function(t,e,r,n,i,a,s,o,u,h){var c=0,l=e;return c+=(l=l+n>>>0)<e?1:0,c+=(l=l+a>>>0)<a?1:0,c+=(l=l+o>>>0)<o?1:0,t+r+i+s+u+(c+=(l=l+h>>>0)<h?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,a,s,o,u,h){return e+n+a+o+h>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},746:t=>{function e(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=e,e.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},591:(t,e,r)=>{"use strict";const{Deflate:n,deflate:i,deflateRaw:a,gzip:s}=r(555),{Inflate:o,inflate:u,inflateRaw:h,ungzip:c}=r(843),l=r(619);t.exports.Deflate=n,t.exports.deflate=i,t.exports.deflateRaw=a,t.exports.gzip=s,t.exports.Inflate=o,t.exports.inflate=u,t.exports.inflateRaw=h,t.exports.ungzip=c,t.exports.constants=l},555:(t,e,r)=>{"use strict";const n=r(405),i=r(236),a=r(373),s=r(898),o=r(292),u=Object.prototype.toString,{Z_NO_FLUSH:h,Z_SYNC_FLUSH:c,Z_FULL_FLUSH:l,Z_FINISH:d,Z_OK:f,Z_STREAM_END:p,Z_DEFAULT_COMPRESSION:_,Z_DEFAULT_STRATEGY:y,Z_DEFLATED:g}=r(619);function b(t){this.options=i.assign({level:_,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:y},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;let r=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==f)throw new Error(s[r]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=n.deflateSetDictionary(this.strm,t),r!==f)throw new Error(s[r]);this._dict_set=!0}}function v(t,e){const r=new b(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}b.prototype.push=function(t,e){const r=this.strm,i=this.options.chunkSize;let s,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?d:h,"string"==typeof t?r.input=a.string2buf(t):"[object ArrayBuffer]"===u.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(o===c||o===l)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(s=n.deflate(r,o),s===p)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=n.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===f;if(0!==r.avail_out){if(o>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},b.prototype.onData=function(t){this.chunks.push(t)},b.prototype.onEnd=function(t){t===f&&(this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},t.exports.Deflate=b,t.exports.deflate=v,t.exports.deflateRaw=function(t,e){return(e=e||{}).raw=!0,v(t,e)},t.exports.gzip=function(t,e){return(e=e||{}).gzip=!0,v(t,e)},t.exports.constants=r(619)},843:(t,e,r)=>{"use strict";const n=r(948),i=r(236),a=r(373),s=r(898),o=r(292),u=r(401),h=Object.prototype.toString,{Z_NO_FLUSH:c,Z_FINISH:l,Z_OK:d,Z_STREAM_END:f,Z_NEED_DICT:p,Z_STREAM_ERROR:_,Z_DATA_ERROR:y,Z_MEM_ERROR:g}=r(619);function b(t){this.options=i.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;let r=n.inflateInit2(this.strm,e.windowBits);if(r!==d)throw new Error(s[r]);if(this.header=new u,n.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=a.string2buf(e.dictionary):"[object ArrayBuffer]"===h.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=n.inflateSetDictionary(this.strm,e.dictionary),r!==d)))throw new Error(s[r])}function v(t,e){const r=new b(e);if(r.push(t),r.err)throw r.msg||s[r.err];return r.result}b.prototype.push=function(t,e){const r=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let o,u,b;if(this.ended)return!1;for(u=e===~~e?e:!0===e?l:c,"[object ArrayBuffer]"===h.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),o=n.inflate(r,u),o===p&&s&&(o=n.inflateSetDictionary(r,s),o===d?o=n.inflate(r,u):o===y&&(o=p));r.avail_in>0&&o===f&&r.state.wrap>0&&0!==t[r.next_in];)n.inflateReset(r),o=n.inflate(r,u);switch(o){case _:case y:case p:case g:return this.onEnd(o),this.ended=!0,!1}if(b=r.avail_out,r.next_out&&(0===r.avail_out||o===f))if("string"===this.options.to){let t=a.utf8border(r.output,r.next_out),e=r.next_out-t,n=a.buf2string(r.output,t);r.next_out=e,r.avail_out=i-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(n)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(o!==d||0!==b){if(o===f)return o=n.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},b.prototype.onData=function(t){this.chunks.push(t)},b.prototype.onEnd=function(t){t===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},t.exports.Inflate=b,t.exports.inflate=v,t.exports.inflateRaw=function(t,e){return(e=e||{}).raw=!0,v(t,e)},t.exports.ungzip=v,t.exports.constants=r(619)},236:t=>{"use strict";const e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);t.exports.assign=function(t){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const n=r.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const r in n)e(n,r)&&(t[r]=n[r])}}return t},t.exports.flattenChunks=t=>{let e=0;for(let r=0,n=t.length;r<n;r++)e+=t[r].length;const r=new Uint8Array(e);for(let e=0,n=0,i=t.length;e<i;e++){let i=t[e];r.set(i,n),n+=i.length}return r}},373:t=>{"use strict";let e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){e=!1}const r=new Uint8Array(256);for(let t=0;t<256;t++)r[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;r[254]=r[254]=1,t.exports.string2buf=t=>{let e,r,n,i,a,s=t.length,o=0;for(i=0;i<s;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<s&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<s&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|63&r):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r);return e},t.exports.buf2string=(t,n)=>{let i,a;const s=n||t.length,o=new Array(2*s);for(a=0,i=0;i<s;){let e=t[i++];if(e<128){o[a++]=e;continue}let n=r[e];if(n>4)o[a++]=65533,i+=n-1;else{for(e&=2===n?31:3===n?15:7;n>1&&i<s;)e=e<<6|63&t[i++],n--;n>1?o[a++]=65533:e<65536?o[a++]=e:(e-=65536,o[a++]=55296|e>>10&1023,o[a++]=56320|1023&e)}}return((t,r)=>{if(r<65534&&t.subarray&&e)return String.fromCharCode.apply(null,t.length===r?t:t.subarray(0,r));let n="";for(let e=0;e<r;e++)n+=String.fromCharCode(t[e]);return n})(o,a)},t.exports.utf8border=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+r[t[n]]>e?n:e}},69:t=>{"use strict";t.exports=(t,e,r,n)=>{let i=65535&t|0,a=t>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{i=i+e[n++]|0,a=a+i|0}while(--s);i%=65521,a%=65521}return i|a<<16|0}},619:t=>{"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},869:t=>{"use strict";const e=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());t.exports=(t,r,n,i)=>{const a=e,s=i+n;t^=-1;for(let e=i;e<s;e++)t=t>>>8^a[255&(t^r[e])];return-1^t}},405:(t,e,r)=>{"use strict";const{_tr_init:n,_tr_stored_block:i,_tr_flush_block:a,_tr_tally:s,_tr_align:o}=r(342),u=r(69),h=r(869),c=r(898),{Z_NO_FLUSH:l,Z_PARTIAL_FLUSH:d,Z_FULL_FLUSH:f,Z_FINISH:p,Z_BLOCK:_,Z_OK:y,Z_STREAM_END:g,Z_STREAM_ERROR:b,Z_DATA_ERROR:v,Z_BUF_ERROR:w,Z_DEFAULT_COMPRESSION:m,Z_FILTERED:x,Z_HUFFMAN_ONLY:k,Z_RLE:A,Z_FIXED:z,Z_DEFAULT_STRATEGY:S,Z_UNKNOWN:E,Z_DEFLATED:T}=r(619),U=258,D=262,R=103,O=113,C=666,P=(t,e)=>(t.msg=c[e],e),B=t=>(t<<1)-(t>4?9:0),K=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let N=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const L=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},Z=(t,e)=>{a(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,L(t.strm)},I=(t,e)=>{t.pending_buf[t.pending++]=e},F=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},j=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=u(t.adler,e,i,r):2===t.state.wrap&&(t.adler=h(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},H=(t,e)=>{let r,n,i=t.max_chain_length,a=t.strstart,s=t.prev_length,o=t.nice_match;const u=t.strstart>t.w_size-D?t.strstart-(t.w_size-D):0,h=t.window,c=t.w_mask,l=t.prev,d=t.strstart+U;let f=h[a+s-1],p=h[a+s];t.prev_length>=t.good_match&&(i>>=2),o>t.lookahead&&(o=t.lookahead);do{if(r=e,h[r+s]===p&&h[r+s-1]===f&&h[r]===h[a]&&h[++r]===h[a+1]){a+=2,r++;do{}while(h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&h[++a]===h[++r]&&a<d);if(n=U-(d-a),a=d-U,n>s){if(t.match_start=e,s=n,n>=o)break;f=h[a+s-1],p=h[a+s]}}}while((e=l[e&c])>u&&0!=--i);return s<=t.lookahead?s:t.lookahead},M=t=>{const e=t.w_size;let r,n,i,a,s;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-D)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do{i=t.head[--r],t.head[r]=i>=e?i-e:0}while(--n);n=e,r=n;do{i=t.prev[--r],t.prev[r]=i>=e?i-e:0}while(--n);a+=e}if(0===t.strm.avail_in)break;if(n=j(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=n,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=N(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=N(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<D&&0!==t.strm.avail_in)},V=(t,e)=>{let r,n;for(;;){if(t.lookahead<D){if(M(t),t.lookahead<D&&e===l)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=N(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-D&&(t.match_length=H(t,r)),t.match_length>=3)if(n=s(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=N(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=N(t,t.ins_h,t.window[t.strstart+1]);else n=s(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Z(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===p?(Z(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Z(t,!1),0===t.strm.avail_out)?1:2},W=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<D){if(M(t),t.lookahead<D&&e===l)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=N(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-D&&(t.match_length=H(t,r),t.match_length<=5&&(t.strategy===x||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=s(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=N(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Z(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=s(t,0,t.window[t.strstart-1]),n&&Z(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=s(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===p?(Z(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Z(t,!1),0===t.strm.avail_out)?1:2};function G(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const J=[new G(0,0,0,0,((t,e)=>{let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(M(t),0===t.lookahead&&e===l)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Z(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-D&&(Z(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===p?(Z(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Z(t,!1),t.strm.avail_out),1)})),new G(4,4,8,4,V),new G(4,5,16,8,V),new G(4,6,32,32,V),new G(4,4,16,16,W),new G(8,16,32,32,W),new G(8,16,128,128,W),new G(8,32,128,256,W),new G(32,128,258,1024,W),new G(32,258,258,4096,W)];function q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Y=t=>{if(!t||!t.state)return P(t,b);t.total_in=t.total_out=0,t.data_type=E;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:O,t.adler=2===e.wrap?0:1,e.last_flush=l,n(e),y},X=t=>{const e=Y(t);var r;return e===y&&((r=t.state).window_size=2*r.w_size,K(r.head),r.max_lazy_match=J[r.level].max_lazy,r.good_match=J[r.level].good_length,r.nice_match=J[r.level].nice_length,r.max_chain_length=J[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),e},$=(t,e,r,n,i,a)=>{if(!t)return b;let s=1;if(e===m&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||r!==T||n<8||n>15||e<0||e>9||a<0||a>z)return P(t,b);8===n&&(n=9);const o=new q;return t.state=o,o.strm=t,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=a,o.method=r,X(t)};t.exports.deflateInit=(t,e)=>$(t,e,T,15,8,S),t.exports.deflateInit2=$,t.exports.deflateReset=X,t.exports.deflateResetKeep=Y,t.exports.deflateSetHeader=(t,e)=>t&&t.state?2!==t.state.wrap?b:(t.state.gzhead=e,y):b,t.exports.deflate=(t,e)=>{let r,n;if(!t||!t.state||e>_||e<0)return t?P(t,b):b;const a=t.state;if(!t.output||!t.input&&0!==t.avail_in||a.status===C&&e!==p)return P(t,0===t.avail_out?w:b);a.strm=t;const u=a.last_flush;if(a.last_flush=e,42===a.status)if(2===a.wrap)t.adler=0,I(a,31),I(a,139),I(a,8),a.gzhead?(I(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),I(a,255&a.gzhead.time),I(a,a.gzhead.time>>8&255),I(a,a.gzhead.time>>16&255),I(a,a.gzhead.time>>24&255),I(a,9===a.level?2:a.strategy>=k||a.level<2?4:0),I(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(I(a,255&a.gzhead.extra.length),I(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=h(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(I(a,0),I(a,0),I(a,0),I(a,0),I(a,0),I(a,9===a.level?2:a.strategy>=k||a.level<2?4:0),I(a,3),a.status=O);else{let e=T+(a.w_bits-8<<4)<<8,r=-1;r=a.strategy>=k||a.level<2?0:a.level<6?1:6===a.level?2:3,e|=r<<6,0!==a.strstart&&(e|=32),e+=31-e%31,a.status=O,F(a,e),0!==a.strstart&&(F(a,t.adler>>>16),F(a,65535&t.adler)),t.adler=1}if(69===a.status)if(a.gzhead.extra){for(r=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>r&&(t.adler=h(t.adler,a.pending_buf,a.pending-r,r)),L(t),r=a.pending,a.pending!==a.pending_buf_size));)I(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>r&&(t.adler=h(t.adler,a.pending_buf,a.pending-r,r)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){r=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>r&&(t.adler=h(t.adler,a.pending_buf,a.pending-r,r)),L(t),r=a.pending,a.pending===a.pending_buf_size)){n=1;break}n=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,I(a,n)}while(0!==n);a.gzhead.hcrc&&a.pending>r&&(t.adler=h(t.adler,a.pending_buf,a.pending-r,r)),0===n&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){r=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>r&&(t.adler=h(t.adler,a.pending_buf,a.pending-r,r)),L(t),r=a.pending,a.pending===a.pending_buf_size)){n=1;break}n=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,I(a,n)}while(0!==n);a.gzhead.hcrc&&a.pending>r&&(t.adler=h(t.adler,a.pending_buf,a.pending-r,r)),0===n&&(a.status=R)}else a.status=R;if(a.status===R&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&L(t),a.pending+2<=a.pending_buf_size&&(I(a,255&t.adler),I(a,t.adler>>8&255),t.adler=0,a.status=O)):a.status=O),0!==a.pending){if(L(t),0===t.avail_out)return a.last_flush=-1,y}else if(0===t.avail_in&&B(e)<=B(u)&&e!==p)return P(t,w);if(a.status===C&&0!==t.avail_in)return P(t,w);if(0!==t.avail_in||0!==a.lookahead||e!==l&&a.status!==C){let r=a.strategy===k?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(M(t),0===t.lookahead)){if(e===l)return 1;break}if(t.match_length=0,r=s(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Z(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===p?(Z(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Z(t,!1),0===t.strm.avail_out)?1:2})(a,e):a.strategy===A?((t,e)=>{let r,n,i,a;const o=t.window;for(;;){if(t.lookahead<=U){if(M(t),t.lookahead<=U&&e===l)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){a=t.strstart+U;do{}while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<a);t.match_length=U-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=s(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=s(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Z(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===p?(Z(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Z(t,!1),0===t.strm.avail_out)?1:2})(a,e):J[a.level].func(a,e);if(3!==r&&4!==r||(a.status=C),1===r||3===r)return 0===t.avail_out&&(a.last_flush=-1),y;if(2===r&&(e===d?o(a):e!==_&&(i(a,0,0,!1),e===f&&(K(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),L(t),0===t.avail_out))return a.last_flush=-1,y}return e!==p?y:a.wrap<=0?g:(2===a.wrap?(I(a,255&t.adler),I(a,t.adler>>8&255),I(a,t.adler>>16&255),I(a,t.adler>>24&255),I(a,255&t.total_in),I(a,t.total_in>>8&255),I(a,t.total_in>>16&255),I(a,t.total_in>>24&255)):(F(a,t.adler>>>16),F(a,65535&t.adler)),L(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?y:g)},t.exports.deflateEnd=t=>{if(!t||!t.state)return b;const e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==R&&e!==O&&e!==C?P(t,b):(t.state=null,e===O?P(t,v):y)},t.exports.deflateSetDictionary=(t,e)=>{let r=e.length;if(!t||!t.state)return b;const n=t.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return b;if(1===i&&(t.adler=u(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(K(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}const a=t.avail_in,s=t.next_in,o=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,M(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=N(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,M(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=s,t.input=o,t.avail_in=a,n.wrap=i,y},t.exports.deflateInfo="pako deflate (from Nodeca project)"},401:t=>{"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},264:t=>{"use strict";t.exports=function(t,e){let r,n,i,a,s,o,u,h,c,l,d,f,p,_,y,g,b,v,w,m,x,k,A,z;const S=t.state;r=t.next_in,A=t.input,n=r+(t.avail_in-5),i=t.next_out,z=t.output,a=i-(e-t.avail_out),s=i+(t.avail_out-257),o=S.dmax,u=S.wsize,h=S.whave,c=S.wnext,l=S.window,d=S.hold,f=S.bits,p=S.lencode,_=S.distcode,y=(1<<S.lenbits)-1,g=(1<<S.distbits)-1;t:do{f<15&&(d+=A[r++]<<f,f+=8,d+=A[r++]<<f,f+=8),b=p[d&y];e:for(;;){if(v=b>>>24,d>>>=v,f-=v,v=b>>>16&255,0===v)z[i++]=65535&b;else{if(!(16&v)){if(0==(64&v)){b=p[(65535&b)+(d&(1<<v)-1)];continue e}if(32&v){S.mode=12;break t}t.msg="invalid literal/length code",S.mode=30;break t}w=65535&b,v&=15,v&&(f<v&&(d+=A[r++]<<f,f+=8),w+=d&(1<<v)-1,d>>>=v,f-=v),f<15&&(d+=A[r++]<<f,f+=8,d+=A[r++]<<f,f+=8),b=_[d&g];r:for(;;){if(v=b>>>24,d>>>=v,f-=v,v=b>>>16&255,!(16&v)){if(0==(64&v)){b=_[(65535&b)+(d&(1<<v)-1)];continue r}t.msg="invalid distance code",S.mode=30;break t}if(m=65535&b,v&=15,f<v&&(d+=A[r++]<<f,f+=8,f<v&&(d+=A[r++]<<f,f+=8)),m+=d&(1<<v)-1,m>o){t.msg="invalid distance too far back",S.mode=30;break t}if(d>>>=v,f-=v,v=i-a,m>v){if(v=m-v,v>h&&S.sane){t.msg="invalid distance too far back",S.mode=30;break t}if(x=0,k=l,0===c){if(x+=u-v,v<w){w-=v;do{z[i++]=l[x++]}while(--v);x=i-m,k=z}}else if(c<v){if(x+=u+c-v,v-=c,v<w){w-=v;do{z[i++]=l[x++]}while(--v);if(x=0,c<w){v=c,w-=v;do{z[i++]=l[x++]}while(--v);x=i-m,k=z}}}else if(x+=c-v,v<w){w-=v;do{z[i++]=l[x++]}while(--v);x=i-m,k=z}for(;w>2;)z[i++]=k[x++],z[i++]=k[x++],z[i++]=k[x++],w-=3;w&&(z[i++]=k[x++],w>1&&(z[i++]=k[x++]))}else{x=i-m;do{z[i++]=z[x++],z[i++]=z[x++],z[i++]=z[x++],w-=3}while(w>2);w&&(z[i++]=z[x++],w>1&&(z[i++]=z[x++]))}break}}break}}while(r<n&&i<s);w=f>>3,r-=w,f-=w<<3,d&=(1<<f)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<s?s-i+257:257-(i-s),S.hold=d,S.bits=f}},948:(t,e,r)=>{"use strict";const n=r(69),i=r(869),a=r(264),s=r(241),{Z_FINISH:o,Z_BLOCK:u,Z_TREES:h,Z_OK:c,Z_STREAM_END:l,Z_NEED_DICT:d,Z_STREAM_ERROR:f,Z_DATA_ERROR:p,Z_MEM_ERROR:_,Z_BUF_ERROR:y,Z_DEFLATED:g}=r(619),b=12,v=30,w=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const x=t=>{if(!t||!t.state)return f;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,c},k=t=>{if(!t||!t.state)return f;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,x(t)},A=(t,e)=>{let r;if(!t||!t.state)return f;const n=t.state;return e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?f:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,k(t))},z=(t,e)=>{if(!t)return f;const r=new m;t.state=r,r.window=null;const n=A(t,e);return n!==c&&(t.state=null),n};let S,E,T=!0;const U=t=>{if(T){S=new Int32Array(512),E=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,S,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,E,0,t.work,{bits:5}),T=!1}t.lencode=S,t.lenbits=9,t.distcode=E,t.distbits=5},D=(t,e,r,n)=>{let i;const a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),(n-=i)?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0};t.exports.inflateReset=k,t.exports.inflateReset2=A,t.exports.inflateResetKeep=x,t.exports.inflateInit=t=>z(t,15),t.exports.inflateInit2=z,t.exports.inflate=(t,e)=>{let r,m,x,k,A,z,S,E,T,R,O,C,P,B,K,N,L,Z,I,F,j,H,M=0;const V=new Uint8Array(4);let W,G;const J=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return f;r=t.state,r.mode===b&&(r.mode=13),A=t.next_out,x=t.output,S=t.avail_out,k=t.next_in,m=t.input,z=t.avail_in,E=r.hold,T=r.bits,R=z,O=S,H=c;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;T<16;){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}if(2&r.wrap&&35615===E){r.check=0,V[0]=255&E,V[1]=E>>>8&255,r.check=i(r.check,V,2,0),E=0,T=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&E)<<8)+(E>>8))%31){t.msg="incorrect header check",r.mode=v;break}if((15&E)!==g){t.msg="unknown compression method",r.mode=v;break}if(E>>>=4,T-=4,j=8+(15&E),0===r.wbits)r.wbits=j;else if(j>r.wbits){t.msg="invalid window size",r.mode=v;break}r.dmax=1<<r.wbits,t.adler=r.check=1,r.mode=512&E?10:b,E=0,T=0;break;case 2:for(;T<16;){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}if(r.flags=E,(255&r.flags)!==g){t.msg="unknown compression method",r.mode=v;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=v;break}r.head&&(r.head.text=E>>8&1),512&r.flags&&(V[0]=255&E,V[1]=E>>>8&255,r.check=i(r.check,V,2,0)),E=0,T=0,r.mode=3;case 3:for(;T<32;){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}r.head&&(r.head.time=E),512&r.flags&&(V[0]=255&E,V[1]=E>>>8&255,V[2]=E>>>16&255,V[3]=E>>>24&255,r.check=i(r.check,V,4,0)),E=0,T=0,r.mode=4;case 4:for(;T<16;){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}r.head&&(r.head.xflags=255&E,r.head.os=E>>8),512&r.flags&&(V[0]=255&E,V[1]=E>>>8&255,r.check=i(r.check,V,2,0)),E=0,T=0,r.mode=5;case 5:if(1024&r.flags){for(;T<16;){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}r.length=E,r.head&&(r.head.extra_len=E),512&r.flags&&(V[0]=255&E,V[1]=E>>>8&255,r.check=i(r.check,V,2,0)),E=0,T=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(C=r.length,C>z&&(C=z),C&&(r.head&&(j=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(m.subarray(k,k+C),j)),512&r.flags&&(r.check=i(r.check,m,C,k)),z-=C,k+=C,r.length-=C),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===z)break t;C=0;do{j=m[k+C++],r.head&&j&&r.length<65536&&(r.head.name+=String.fromCharCode(j))}while(j&&C<z);if(512&r.flags&&(r.check=i(r.check,m,C,k)),z-=C,k+=C,j)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===z)break t;C=0;do{j=m[k+C++],r.head&&j&&r.length<65536&&(r.head.comment+=String.fromCharCode(j))}while(j&&C<z);if(512&r.flags&&(r.check=i(r.check,m,C,k)),z-=C,k+=C,j)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;T<16;){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}if(E!==(65535&r.check)){t.msg="header crc mismatch",r.mode=v;break}E=0,T=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=b;break;case 10:for(;T<32;){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}t.adler=r.check=w(E),E=0,T=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=A,t.avail_out=S,t.next_in=k,t.avail_in=z,r.hold=E,r.bits=T,d;t.adler=r.check=1,r.mode=b;case b:if(e===u||e===h)break t;case 13:if(r.last){E>>>=7&T,T-=7&T,r.mode=27;break}for(;T<3;){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}switch(r.last=1&E,E>>>=1,T-=1,3&E){case 0:r.mode=14;break;case 1:if(U(r),r.mode=20,e===h){E>>>=2,T-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=v}E>>>=2,T-=2;break;case 14:for(E>>>=7&T,T-=7&T;T<32;){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}if((65535&E)!=(E>>>16^65535)){t.msg="invalid stored block lengths",r.mode=v;break}if(r.length=65535&E,E=0,T=0,r.mode=15,e===h)break t;case 15:r.mode=16;case 16:if(C=r.length,C){if(C>z&&(C=z),C>S&&(C=S),0===C)break t;x.set(m.subarray(k,k+C),A),z-=C,k+=C,S-=C,A+=C,r.length-=C;break}r.mode=b;break;case 17:for(;T<14;){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}if(r.nlen=257+(31&E),E>>>=5,T-=5,r.ndist=1+(31&E),E>>>=5,T-=5,r.ncode=4+(15&E),E>>>=4,T-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=v;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;T<3;){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}r.lens[J[r.have++]]=7&E,E>>>=3,T-=3}for(;r.have<19;)r.lens[J[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,W={bits:r.lenbits},H=s(0,r.lens,0,19,r.lencode,0,r.work,W),r.lenbits=W.bits,H){t.msg="invalid code lengths set",r.mode=v;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;M=r.lencode[E&(1<<r.lenbits)-1],K=M>>>24,N=M>>>16&255,L=65535&M,!(K<=T);){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}if(L<16)E>>>=K,T-=K,r.lens[r.have++]=L;else{if(16===L){for(G=K+2;T<G;){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}if(E>>>=K,T-=K,0===r.have){t.msg="invalid bit length repeat",r.mode=v;break}j=r.lens[r.have-1],C=3+(3&E),E>>>=2,T-=2}else if(17===L){for(G=K+3;T<G;){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}E>>>=K,T-=K,j=0,C=3+(7&E),E>>>=3,T-=3}else{for(G=K+7;T<G;){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}E>>>=K,T-=K,j=0,C=11+(127&E),E>>>=7,T-=7}if(r.have+C>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=v;break}for(;C--;)r.lens[r.have++]=j}}if(r.mode===v)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=v;break}if(r.lenbits=9,W={bits:r.lenbits},H=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,W),r.lenbits=W.bits,H){t.msg="invalid literal/lengths set",r.mode=v;break}if(r.distbits=6,r.distcode=r.distdyn,W={bits:r.distbits},H=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,W),r.distbits=W.bits,H){t.msg="invalid distances set",r.mode=v;break}if(r.mode=20,e===h)break t;case 20:r.mode=21;case 21:if(z>=6&&S>=258){t.next_out=A,t.avail_out=S,t.next_in=k,t.avail_in=z,r.hold=E,r.bits=T,a(t,O),A=t.next_out,x=t.output,S=t.avail_out,k=t.next_in,m=t.input,z=t.avail_in,E=r.hold,T=r.bits,r.mode===b&&(r.back=-1);break}for(r.back=0;M=r.lencode[E&(1<<r.lenbits)-1],K=M>>>24,N=M>>>16&255,L=65535&M,!(K<=T);){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}if(N&&0==(240&N)){for(Z=K,I=N,F=L;M=r.lencode[F+((E&(1<<Z+I)-1)>>Z)],K=M>>>24,N=M>>>16&255,L=65535&M,!(Z+K<=T);){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}E>>>=Z,T-=Z,r.back+=Z}if(E>>>=K,T-=K,r.back+=K,r.length=L,0===N){r.mode=26;break}if(32&N){r.back=-1,r.mode=b;break}if(64&N){t.msg="invalid literal/length code",r.mode=v;break}r.extra=15&N,r.mode=22;case 22:if(r.extra){for(G=r.extra;T<G;){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}r.length+=E&(1<<r.extra)-1,E>>>=r.extra,T-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;M=r.distcode[E&(1<<r.distbits)-1],K=M>>>24,N=M>>>16&255,L=65535&M,!(K<=T);){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}if(0==(240&N)){for(Z=K,I=N,F=L;M=r.distcode[F+((E&(1<<Z+I)-1)>>Z)],K=M>>>24,N=M>>>16&255,L=65535&M,!(Z+K<=T);){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}E>>>=Z,T-=Z,r.back+=Z}if(E>>>=K,T-=K,r.back+=K,64&N){t.msg="invalid distance code",r.mode=v;break}r.offset=L,r.extra=15&N,r.mode=24;case 24:if(r.extra){for(G=r.extra;T<G;){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}r.offset+=E&(1<<r.extra)-1,E>>>=r.extra,T-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=v;break}r.mode=25;case 25:if(0===S)break t;if(C=O-S,r.offset>C){if(C=r.offset-C,C>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=v;break}C>r.wnext?(C-=r.wnext,P=r.wsize-C):P=r.wnext-C,C>r.length&&(C=r.length),B=r.window}else B=x,P=A-r.offset,C=r.length;C>S&&(C=S),S-=C,r.length-=C;do{x[A++]=B[P++]}while(--C);0===r.length&&(r.mode=21);break;case 26:if(0===S)break t;x[A++]=r.length,S--,r.mode=21;break;case 27:if(r.wrap){for(;T<32;){if(0===z)break t;z--,E|=m[k++]<<T,T+=8}if(O-=S,t.total_out+=O,r.total+=O,O&&(t.adler=r.check=r.flags?i(r.check,x,O,A-O):n(r.check,x,O,A-O)),O=S,(r.flags?E:w(E))!==r.check){t.msg="incorrect data check",r.mode=v;break}E=0,T=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;T<32;){if(0===z)break t;z--,E+=m[k++]<<T,T+=8}if(E!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=v;break}E=0,T=0}r.mode=29;case 29:H=l;break t;case v:H=p;break t;case 31:return _;case 32:default:return f}return t.next_out=A,t.avail_out=S,t.next_in=k,t.avail_in=z,r.hold=E,r.bits=T,(r.wsize||O!==t.avail_out&&r.mode<v&&(r.mode<27||e!==o))&&D(t,t.output,t.next_out,O-t.avail_out)?(r.mode=31,_):(R-=t.avail_in,O-=t.avail_out,t.total_in+=R,t.total_out+=O,r.total+=O,r.wrap&&O&&(t.adler=r.check=r.flags?i(r.check,x,O,t.next_out-O):n(r.check,x,O,t.next_out-O)),t.data_type=r.bits+(r.last?64:0)+(r.mode===b?128:0)+(20===r.mode||15===r.mode?256:0),(0===R&&0===O||e===o)&&H===c&&(H=y),H)},t.exports.inflateEnd=t=>{if(!t||!t.state)return f;let e=t.state;return e.window&&(e.window=null),t.state=null,c},t.exports.inflateGetHeader=(t,e)=>{if(!t||!t.state)return f;const r=t.state;return 0==(2&r.wrap)?f:(r.head=e,e.done=!1,c)},t.exports.inflateSetDictionary=(t,e)=>{const r=e.length;let i,a,s;return t&&t.state?(i=t.state,0!==i.wrap&&11!==i.mode?f:11===i.mode&&(a=1,a=n(a,e,r,0),a!==i.check)?p:(s=D(t,e,r,r),s?(i.mode=31,_):(i.havedict=1,c))):f},t.exports.inflateInfo="pako inflate (from Nodeca project)"},241:t=>{"use strict";const e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),r=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),n=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),i=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);t.exports=(t,a,s,o,u,h,c,l)=>{const d=l.bits;let f,p,_,y,g,b,v=0,w=0,m=0,x=0,k=0,A=0,z=0,S=0,E=0,T=0,U=null,D=0;const R=new Uint16Array(16),O=new Uint16Array(16);let C,P,B,K=null,N=0;for(v=0;v<=15;v++)R[v]=0;for(w=0;w<o;w++)R[a[s+w]]++;for(k=d,x=15;x>=1&&0===R[x];x--);if(k>x&&(k=x),0===x)return u[h++]=20971520,u[h++]=20971520,l.bits=1,0;for(m=1;m<x&&0===R[m];m++);for(k<m&&(k=m),S=1,v=1;v<=15;v++)if(S<<=1,S-=R[v],S<0)return-1;if(S>0&&(0===t||1!==x))return-1;for(O[1]=0,v=1;v<15;v++)O[v+1]=O[v]+R[v];for(w=0;w<o;w++)0!==a[s+w]&&(c[O[a[s+w]]++]=w);if(0===t?(U=K=c,b=19):1===t?(U=e,D-=257,K=r,N-=257,b=256):(U=n,K=i,b=-1),T=0,w=0,v=m,g=h,A=k,z=0,_=-1,E=1<<k,y=E-1,1===t&&E>852||2===t&&E>592)return 1;for(;;){C=v-z,c[w]<b?(P=0,B=c[w]):c[w]>b?(P=K[N+c[w]],B=U[D+c[w]]):(P=96,B=0),f=1<<v-z,p=1<<A,m=p;do{p-=f,u[g+(T>>z)+p]=C<<24|P<<16|B|0}while(0!==p);for(f=1<<v-1;T&f;)f>>=1;if(0!==f?(T&=f-1,T+=f):T=0,w++,0==--R[v]){if(v===x)break;v=a[s+c[w]]}if(v>k&&(T&y)!==_){for(0===z&&(z=k),g+=m,A=v-z,S=1<<A;A+z<x&&(S-=R[A+z],!(S<=0));)A++,S<<=1;if(E+=1<<A,1===t&&E>852||2===t&&E>592)return 1;_=T&y,u[_]=k<<24|A<<16|g-h|0}}return 0!==T&&(u[g+T]=v-z<<24|64<<16|0),l.bits=k,0}},898:t=>{"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},342:t=>{"use strict";function e(t){let e=t.length;for(;--e>=0;)t[e]=0}const r=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),i=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),a=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=new Array(576);e(s);const o=new Array(60);e(o);const u=new Array(512);e(u);const h=new Array(256);e(h);const c=new Array(29);e(c);const l=new Array(30);function d(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let f,p,_;function y(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(l);const g=t=>t<256?u[t]:u[256+(t>>>7)],b=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},v=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},w=(t,e,r)=>{v(t,r[2*e],r[2*e+1])},m=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},x=(t,e,r)=>{const n=new Array(16);let i,a,s=0;for(i=1;i<=15;i++)n[i]=s=s+r[i-1]<<1;for(a=0;a<=e;a++){let e=t[2*a+1];0!==e&&(t[2*a]=m(n[e]++,e))}},k=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},A=t=>{t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},z=(t,e,r,n)=>{const i=2*e,a=2*r;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]},S=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&z(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!z(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},E=(t,e,i)=>{let a,s,o,u,d=0;if(0!==t.last_lit)do{a=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],s=t.pending_buf[t.l_buf+d],d++,0===a?w(t,s,e):(o=h[s],w(t,o+256+1,e),u=r[o],0!==u&&(s-=c[o],v(t,s,u)),a--,o=g(a),w(t,o,i),u=n[o],0!==u&&(a-=l[o],v(t,a,u)))}while(d<t.last_lit);w(t,256,e)},T=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,a=e.stat_desc.elems;let s,o,u,h=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<a;s++)0!==r[2*s]?(t.heap[++t.heap_len]=h=s,t.depth[s]=0):r[2*s+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=h<2?++h:0,r[2*u]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=n[2*u+1]);for(e.max_code=h,s=t.heap_len>>1;s>=1;s--)S(t,r,s);u=a;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],S(t,r,1),o=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=o,r[2*u]=r[2*s]+r[2*o],t.depth[u]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1,r[2*s+1]=r[2*o+1]=u,t.heap[1]=u++,S(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,a=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,u=e.stat_desc.max_length;let h,c,l,d,f,p,_=0;for(d=0;d<=15;d++)t.bl_count[d]=0;for(r[2*t.heap[t.heap_max]+1]=0,h=t.heap_max+1;h<573;h++)c=t.heap[h],d=r[2*r[2*c+1]+1]+1,d>u&&(d=u,_++),r[2*c+1]=d,c>n||(t.bl_count[d]++,f=0,c>=o&&(f=s[c-o]),p=r[2*c],t.opt_len+=p*(d+f),a&&(t.static_len+=p*(i[2*c+1]+f)));if(0!==_){do{for(d=u-1;0===t.bl_count[d];)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[u]--,_-=2}while(_>0);for(d=u;0!==d;d--)for(c=t.bl_count[d];0!==c;)l=t.heap[--h],l>n||(r[2*l+1]!==d&&(t.opt_len+=(d-r[2*l+1])*r[2*l],r[2*l+1]=d),c--)}})(t,e),x(r,h,t.bl_count)},U=(t,e,r)=>{let n,i,a=-1,s=e[1],o=0,u=7,h=4;for(0===s&&(u=138,h=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=e[2*(n+1)+1],++o<u&&i===s||(o<h?t.bl_tree[2*i]+=o:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,a=i,0===s?(u=138,h=3):i===s?(u=6,h=3):(u=7,h=4))},D=(t,e,r)=>{let n,i,a=-1,s=e[1],o=0,u=7,h=4;for(0===s&&(u=138,h=3),n=0;n<=r;n++)if(i=s,s=e[2*(n+1)+1],!(++o<u&&i===s)){if(o<h)do{w(t,i,t.bl_tree)}while(0!=--o);else 0!==i?(i!==a&&(w(t,i,t.bl_tree),o--),w(t,16,t.bl_tree),v(t,o-3,2)):o<=10?(w(t,17,t.bl_tree),v(t,o-3,3)):(w(t,18,t.bl_tree),v(t,o-11,7));o=0,a=i,0===s?(u=138,h=3):i===s?(u=6,h=3):(u=7,h=4)}};let R=!1;const O=(t,e,r,n)=>{v(t,0+(n?1:0),3),((t,e,r,n)=>{A(t),b(t,r),b(t,~r),t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r})(t,e,r)};t.exports._tr_init=t=>{R||((()=>{let t,e,a,y,g;const b=new Array(16);for(a=0,y=0;y<28;y++)for(c[y]=a,t=0;t<1<<r[y];t++)h[a++]=y;for(h[a-1]=y,g=0,y=0;y<16;y++)for(l[y]=g,t=0;t<1<<n[y];t++)u[g++]=y;for(g>>=7;y<30;y++)for(l[y]=g<<7,t=0;t<1<<n[y]-7;t++)u[256+g++]=y;for(e=0;e<=15;e++)b[e]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,b[8]++;for(;t<=255;)s[2*t+1]=9,t++,b[9]++;for(;t<=279;)s[2*t+1]=7,t++,b[7]++;for(;t<=287;)s[2*t+1]=8,t++,b[8]++;for(x(s,287,b),t=0;t<30;t++)o[2*t+1]=5,o[2*t]=m(t,5);f=new d(s,r,257,286,15),p=new d(o,n,0,30,15),_=new d(new Array(0),i,0,19,7)})(),R=!0),t.l_desc=new y(t.dyn_ltree,f),t.d_desc=new y(t.dyn_dtree,p),t.bl_desc=new y(t.bl_tree,_),t.bi_buf=0,t.bi_valid=0,k(t)},t.exports._tr_stored_block=O,t.exports._tr_flush_block=(t,e,r,n)=>{let i,u,h=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),T(t,t.l_desc),T(t,t.d_desc),h=(t=>{let e;for(U(t,t.dyn_ltree,t.l_desc.max_code),U(t,t.dyn_dtree,t.d_desc.max_code),T(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*a[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,u=t.static_len+3+7>>>3,u<=i&&(i=u)):i=u=r+5,r+4<=i&&-1!==e?O(t,e,r,n):4===t.strategy||u===i?(v(t,2+(n?1:0),3),E(t,s,o)):(v(t,4+(n?1:0),3),((t,e,r,n)=>{let i;for(v(t,e-257,5),v(t,r-1,5),v(t,n-4,4),i=0;i<n;i++)v(t,t.bl_tree[2*a[i]+1],3);D(t,t.dyn_ltree,e-1),D(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,h+1),E(t,t.dyn_ltree,t.dyn_dtree)),k(t),n&&A(t)},t.exports._tr_tally=(t,e,r)=>(t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(h[r]+256+1)]++,t.dyn_dtree[2*g(e)]++),t.last_lit===t.lit_bufsize-1),t.exports._tr_align=t=>{v(t,2,3),w(t,256,s),(t=>{16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},292:t=>{"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},867:function(t,e){"use strict";var r=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,a){function s(t){try{u(n.next(t))}catch(t){a(t)}}function o(t){try{u(n.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,o)}u((n=n.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var r,n,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.WaxEventSource=void 0;var i=function(){function t(t){void 0===t&&(t="http://localhost:3000"),this.waxSigningURL=t,this.timeout=function(){return new Promise((function(t,e){var r=setTimeout((function(){clearTimeout(r),e(new Error("Timeout"))}),2e3)}))},this.openEventSource=this.openEventSource.bind(this),this.onceEvent=this.onceEvent.bind(this)}return t.prototype.openEventSource=function(t,e,i){return r(this,void 0,void 0,(function(){var a,s,o,u,h=this;return n(this,(function(c){switch(c.label){case 0:return i?(s=i,[3,3]):[3,1];case 1:return[4,window.open(t,"WaxPopup","height=800,width=600")];case 2:s=c.sent(),c.label=3;case 3:if(!(a=s))throw new Error("Unable to open a popup window");return void 0===e?[2,a]:(o=function(t){return r(h,void 0,void 0,(function(){return n(this,(function(r){return"READY"===t.data.type&&a.postMessage(e,this.waxSigningURL),[2]}))}))},u=this.onceEvent(a,this.waxSigningURL,o),[4,Promise.race([u,this.timeout()]).catch((function(t){if("Timeout"!==t.message)throw t;a.postMessage(e,h.waxSigningURL)}))]);case 4:return c.sent(),[2,a]}}))}))},t.prototype.onceEvent=function(t,e,i){return r(this,void 0,void 0,(function(){return n(this,(function(a){return[2,new Promise((function(a,s){window.addEventListener("message",(function o(u){return r(this,void 0,void 0,(function(){var r,h;return n(this,(function(n){switch(n.label){case 0:if(u.origin!==e)return[2];if(u.source!==t)return[2];if("object"!=typeof u.data)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,i(u)];case 2:return r=n.sent(),a(r),[3,4];case 3:return h=n.sent(),s(h),[3,4];case 4:return window.removeEventListener("message",o,!1),[2]}}))}))}),!1)}))]}))}))},t}();e.WaxEventSource=i},432:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,a){function s(t){try{u(n.next(t))}catch(t){a(t)}}function o(t){try{u(n.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,o)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var r,n,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},a=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,a=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},s=this&&this.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.WaxJS=void 0;var o=r(316),u=r(867),h=function(){function t(t,e,r,n,i,a,s){if(void 0===e&&(e=null),void 0===r&&(r=null),void 0===n&&(n=!0),void 0===i&&(i=null),void 0===a&&(a="https://all-access.wax.io"),void 0===s&&(s="https://api-idm.wax.io/v1/accounts/auto-accept/"),this.apiSigner=i,this.waxSigningURL=a,this.waxAutoSigningURL=s,this.waxEventSource=new u.WaxEventSource(a),this.rpc=new o.JsonRpc(t),e&&Array.isArray(r)){var h={userAccount:e,pubKeys:r,verified:!0};this.receiveLogin({data:h})}else n&&this.loginViaEndpoint()}return t.prototype.login=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){return this.userAccount&&Array.isArray(this.pubKeys)?[2,this.userAccount]:[2,this.loginViaWindow()]}))}))},t.prototype.isAutoLoginAvailable=function(){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return this.userAccount&&Array.isArray(this.pubKeys)?[2,!0]:[3,1];case 1:return t.trys.push([1,3,,4]),[4,this.loginViaEndpoint()];case 2:return t.sent(),[2,!0];case 3:return t.sent(),[2,!1];case 4:return[2,!1]}}))}))},t.prototype.loginViaWindow=function(){return n(this,void 0,void 0,(function(){var t;return i(this,(function(e){switch(e.label){case 0:return[4,this.waxEventSource.openEventSource(this.waxSigningURL+"/cloud-wallet/login/")];case 1:return t=e.sent(),[2,this.waxEventSource.onceEvent(t,this.waxSigningURL,this.receiveLogin.bind(this))]}}))}))},t.prototype.loginViaEndpoint=function(){return n(this,void 0,void 0,(function(){var t,e;return i(this,(function(r){switch(r.label){case 0:return[4,fetch(this.waxAutoSigningURL+"login",{credentials:"include",method:"get"})];case 1:if(!(t=r.sent()).ok)throw new Error("Login Endpoint Error "+t.status+" "+t.statusText);return[4,t.json()];case 2:if((e=r.sent()).processed&&e.processed.except)throw new Error(e);return[2,this.receiveLogin({data:e})]}}))}))},t.prototype.receiveLogin=function(t){return n(this,void 0,void 0,(function(){var e,r,u,h,c,l,d,f,p,_=this;return i(this,(function(y){if(e=t.data,r=e.verified,u=e.userAccount,h=e.pubKeys,c=e.whitelistedContracts,l=e.autoLogin,!r)throw new Error("User declined to share their user account");if(null==u||null==h)throw new Error("User does not have a blockchain account");return localStorage.setItem("autoLogin",l),this.whitelistedContracts=c||[],this.userAccount=u,this.pubKeys=h,d={getAvailableKeys:function(){return n(_,void 0,void 0,(function(){var t,e;return i(this,(function(r){switch(r.label){case 0:return t=[s([],a(this.pubKeys))],(e=this.apiSigner)?[4,this.apiSigner.getAvailableKeys()]:[3,2];case 1:e=r.sent(),r.label=2;case 2:return[2,s.apply(void 0,t.concat([a.apply(void 0,[e||[]])]))]}}))}))},sign:function(t){return n(_,void 0,void 0,(function(){var e,r,n,o;return i(this,(function(i){switch(i.label){case 0:return o={serializedTransaction:t.serializedTransaction},e=[[]],[4,this.signing(t.serializedTransaction)];case 1:return r=[s.apply(void 0,e.concat([a.apply(void 0,[i.sent()])]))],(n=this.apiSigner)?[4,this.apiSigner.sign(t)]:[3,3];case 2:n=i.sent().signatures,i.label=3;case 3:return[2,(o.signatures=s.apply(void 0,r.concat([a.apply(void 0,[n||[]])])),o)]}}))}))}},this.api=new o.Api({rpc:this.rpc,signatureProvider:d}),f=this.api.transact.bind(this.api),p=this.waxSigningURL+"/cloud-wallet/signing/",this.api.transact=function(t,e){return n(_,void 0,void 0,(function(){var r;return i(this,(function(n){switch(n.label){case 0:return[4,this.canAutoSign(t)];case 1:return n.sent()?[3,3]:(r=this,[4,window.open(p,"WaxPopup","height=800,width=600")]);case 2:r.signingWindow=n.sent(),n.label=3;case 3:return[4,f(t,e)];case 4:return[2,n.sent()]}}))}))},[2,this.userAccount]}))}))},t.prototype.canAutoSign=function(t){return n(this,void 0,void 0,(function(){var e,r=this;return i(this,(function(n){switch(n.label){case 0:return t.actions?(e=t,[3,3]):[3,1];case 1:return[4,this.api.deserializeTransactionWithActions(t)];case 2:e=n.sent(),n.label=3;case 3:return[2,!e.actions.find((function(t){return!r.isWhitelisted(t)}))]}}))}))},t.prototype.isWhitelisted=function(t){return!!this.whitelistedContracts.find((function(e){return e.contract===t.account&&("eosio.token"!==t.account||"transfer"!==t.name||e.recipients.includes(t.data.to))}))},t.prototype.signing=function(t){return n(this,void 0,void 0,(function(){var e=this;return i(this,(function(r){switch(r.label){case 0:return[4,this.canAutoSign(t)];case 1:return r.sent()?[2,this.signViaEndpoint(t).catch((function(){return e.signViaWindow(void 0,t)}))]:[2,this.signViaWindow(this.signingWindow,t)]}}))}))},t.prototype.signViaEndpoint=function(t){return n(this,void 0,void 0,(function(){var e,r,n;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,fetch(this.waxAutoSigningURL+"signing",{body:JSON.stringify({transaction:Object.values(t)}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"})];case 1:if(!(e=i.sent()).ok)throw new Error("Signing Endpoint Error "+e.status+" "+e.statusText);return[4,e.json()];case 2:if((r=i.sent()).processed&&r.processed.except)throw new Error(r);return[2,this.receiveSignatures({data:r})];case 3:throw n=i.sent(),this.whitelistedContracts=[],n;case 4:return[2]}}))}))},t.prototype.signViaWindow=function(t,e){return n(this,void 0,void 0,(function(){var r;return i(this,(function(n){switch(n.label){case 0:return[4,this.waxEventSource.openEventSource(this.waxSigningURL+"/cloud-wallet/signing/",{type:"TRANSACTION",transaction:e},t)];case 1:return r=n.sent(),[2,this.waxEventSource.onceEvent(r,this.waxSigningURL,this.receiveSignatures.bind(this))]}}))}))},t.prototype.receiveSignatures=function(t){return n(this,void 0,void 0,(function(){var e,r,n,a;return i(this,(function(i){if("TX_SIGNED"===t.data.type){if(e=t.data,r=e.verified,n=e.signatures,a=e.whitelistedContracts,!r||null==n)throw new Error("User declined to sign the transaction");return this.whitelistedContracts=a||[],[2,n]}if("READY"!==t.data.type)throw new Error("Unexpected response received when attempting signing: "+JSON.stringify(t.data,void 0,2));return[2,[]]}))}))},t}();e.WaxJS=h}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,r),a.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();var n=r(432);waxjs=n})();